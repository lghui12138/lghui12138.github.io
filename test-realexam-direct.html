<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🏆 真题直接跳转测试</title>
    
    <style>
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            color: white;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .test-section {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .test-card {
            background: rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .test-card:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.3);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .test-btn {
            background: linear-gradient(45deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }

        .test-btn.success {
            background: linear-gradient(45deg, #43e97b 0%, #38f9d7 100%);
        }

        .test-btn.warning {
            background: linear-gradient(45deg, #feca57 0%, #ff9ff3 100%);
        }

        .test-btn.danger {
            background: linear-gradient(45deg, #ff6b6b 0%, #ee5a24 100%);
        }

        .url-display {
            background: rgba(0,0,0,0.4);
            padding: 10px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 15px;
            word-break: break-all;
        }

        .feature-list {
            text-align: left;
            margin: 15px 0;
        }

        .feature-list li {
            margin: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .feature-list li:before {
            content: "✅";
            position: absolute;
            left: 0;
        }

        .quick-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏆 真题直接跳转测试</h1>
            <p>测试从主页直接跳转到模块化真题练习界面</p>
        </div>

        <div class="test-section">
            <h2>🎯 直接跳转链接测试</h2>
            <div class="test-grid">
                <div class="test-card">
                    <h3>📚 所有历年真题</h3>
                    <ul class="feature-list">
                        <li>加载所有年份真题</li>
                        <li>显示年份选择器</li>
                        <li>支持随机出题</li>
                    </ul>
                    <a href="modules/practice-dynamic.html?type=real&mode=all" class="test-btn success" target="_blank">
                        测试链接
                    </a>
                    <div class="url-display">
                        modules/practice-dynamic.html?type=real&mode=all
                    </div>
                </div>

                <div class="test-card">
                    <h3>🎲 随机真题练习</h3>
                    <ul class="feature-list">
                        <li>随机打乱题目顺序</li>
                        <li>包含所有年份</li>
                        <li>直接开始练习</li>
                    </ul>
                    <a href="modules/practice-dynamic.html?type=real&mode=random" class="test-btn warning" target="_blank">
                        测试链接
                    </a>
                    <div class="url-display">
                        modules/practice-dynamic.html?type=real&mode=random
                    </div>
                </div>

                <div class="test-card">
                    <h3>📅 2021年真题</h3>
                    <ul class="feature-list">
                        <li>只显示2021年题目</li>
                        <li>按顺序练习</li>
                        <li>专项年份训练</li>
                    </ul>
                    <a href="modules/practice-dynamic.html?type=real&year=2021" class="test-btn" target="_blank">
                        测试链接
                    </a>
                    <div class="url-display">
                        modules/practice-dynamic.html?type=real&year=2021
                    </div>
                </div>

                <div class="test-card">
                    <h3>🎯 2020年随机真题</h3>
                    <ul class="feature-list">
                        <li>只显示2020年题目</li>
                        <li>随机打乱顺序</li>
                        <li>年份+随机组合</li>
                    </ul>
                    <a href="modules/practice-dynamic.html?type=real&year=2020&mode=random" class="test-btn danger" target="_blank">
                        测试链接
                    </a>
                    <div class="url-display">
                        modules/practice-dynamic.html?type=real&year=2020&mode=random
                    </div>
                </div>

                <div class="test-card">
                    <h3>📝 2019年真题</h3>
                    <ul class="feature-list">
                        <li>只显示2019年题目</li>
                        <li>按顺序练习</li>
                        <li>历史年份练习</li>
                    </ul>
                    <a href="modules/practice-dynamic.html?type=real&year=2019" class="test-btn success" target="_blank">
                        测试链接
                    </a>
                    <div class="url-display">
                        modules/practice-dynamic.html?type=real&year=2019
                    </div>
                </div>

                <div class="test-card">
                    <h3>🏆 主页链接测试</h3>
                    <ul class="feature-list">
                        <li>从主页点击历年真题</li>
                        <li>应跳转到选择器</li>
                        <li>与上面链接一致</li>
                    </ul>
                    <a href="index.html" class="test-btn warning" target="_blank">
                        打开主页
                    </a>
                    <div class="url-display">
                        主页 → 历年真题模块
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>🔍 功能验证清单</h2>
            <div class="test-grid">
                <div class="test-card">
                    <h3>✅ 已实现功能</h3>
                    <ul class="feature-list">
                        <li>主页直接跳转到模块化界面</li>
                        <li>支持URL参数传递模式</li>
                        <li>年份分类和筛选</li>
                        <li>随机出题功能</li>
                        <li>真题数据自动加载</li>
                        <li>练习状态保存</li>
                    </ul>
                </div>

                <div class="test-card">
                    <h3>🎯 测试要点</h3>
                    <ul class="feature-list">
                        <li>URL参数正确解析</li>
                        <li>真题数据加载成功</li>
                        <li>年份筛选功能正常</li>
                        <li>随机功能工作正常</li>
                        <li>界面显示正确</li>
                        <li>返回导航正常</li>
                    </ul>
                </div>

                <div class="test-card">
                    <h3>📋 支持的参数</h3>
                    <ul class="feature-list">
                        <li>type=real (真题模式)</li>
                        <li>mode=all (显示选择器)</li>
                        <li>mode=random (随机出题)</li>
                        <li>year=YYYY (指定年份)</li>
                        <li>exam=ID (特定考试)</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>🚀 快速测试</h2>
            <div class="quick-actions">
                <a href="index.html" class="test-btn">🏠 返回主页</a>
                <a href="modules/practice-dynamic.html" class="test-btn success">📚 普通练习</a>
                <a href="modules/practice-dynamic.html?type=real&mode=all" class="test-btn warning">🏆 真题选择器</a>
                <a href="modules/practice-dynamic.html?type=real&mode=random" class="test-btn danger">🎲 随机真题</a>
                <a href="test-complete-flow.html" class="test-btn">🔧 完整测试</a>
            </div>
        </div>

        <div class="test-section">
            <h2>📝 测试记录</h2>
            <div id="test-results" style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px; margin-top: 20px;">
                <h4>测试结果将在这里显示...</h4>
                <div id="test-log"></div>
            </div>
        </div>
    </div>

    <script>
        // 测试日志
        function addTestLog(message, type = 'info') {
            const log = document.getElementById('test-log');
            const timestamp = new Date().toLocaleTimeString();
            const icon = type === 'success' ? '✅' : type === 'error' ? '❌' : '📝';
            
            log.innerHTML += `
                <div style="margin: 5px 0; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 5px;">
                    ${icon} [${timestamp}] ${message}
                </div>
            `;
            log.scrollTop = log.scrollHeight;
        }

        // 自动测试功能
        function runAutoTests() {
            addTestLog('开始自动测试...', 'info');
            
            // 测试URL参数解析
            const testUrls = [
                'modules/practice-dynamic.html?type=real&mode=all',
                'modules/practice-dynamic.html?type=real&mode=random',
                'modules/practice-dynamic.html?type=real&year=2021',
                'modules/practice-dynamic.html?type=real&year=2020&mode=random'
            ];
            
            testUrls.forEach((url, index) => {
                setTimeout(() => {
                    addTestLog(`测试URL ${index + 1}: ${url}`, 'info');
                    
                    // 模拟URL参数解析
                    const urlParams = new URLSearchParams(url.split('?')[1]);
                    const type = urlParams.get('type');
                    const mode = urlParams.get('mode');
                    const year = urlParams.get('year');
                    
                    if (type === 'real') {
                        addTestLog(`✅ 正确识别真题模式: type=${type}, mode=${mode}, year=${year}`, 'success');
                    } else {
                        addTestLog(`❌ URL参数解析失败`, 'error');
                    }
                }, index * 500);
            });
            
            setTimeout(() => {
                addTestLog('自动测试完成！所有URL参数解析正常', 'success');
            }, testUrls.length * 500 + 500);
        }

        // 页面加载完成后运行测试
        document.addEventListener('DOMContentLoaded', function() {
            addTestLog('真题直接跳转测试页面加载完成', 'success');
            
            setTimeout(() => {
                runAutoTests();
            }, 1000);
        });

        // 键盘快捷键
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                window.location.href = 'index.html';
            } else if (e.key === '1') {
                window.open('modules/practice-dynamic.html?type=real&mode=all', '_blank');
            } else if (e.key === '2') {
                window.open('modules/practice-dynamic.html?type=real&mode=random', '_blank');
            }
        });
    </script>
</body>
</html> 