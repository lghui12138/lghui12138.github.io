<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â“ é¢˜åº“ç»ƒä¹  - æµä½“åŠ›å­¦æµ·æ´‹</title>
    
    <!-- Font Awesome -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- æ¨¡å—åŒ–æ ·å¼ -->
    <link rel="stylesheet" href="question-bank-styles.css">
</head>
<body>
    <!-- æµ·æ´‹èƒŒæ™¯ -->
    <div class="ocean-bg">
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
    </div>

    <!-- å¯¼èˆªæ  -->
    <nav class="nav-bar">
        <div class="nav-container">
            <a href="#" class="nav-brand">
                <i class="fas fa-question-circle"></i>
                é¢˜åº“ç»ƒä¹ 
            </a>
            <a href="../index-modular.html" class="btn-back">
                <i class="fas fa-arrow-left"></i>
                è¿”å›ä¸»é¡µ
            </a>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <div class="main-content">
        <!-- ç»Ÿè®¡é¢æ¿ -->
        <div id="questionBankStats" class="stats-panel" style="text-align:center;">
            <h2>ğŸ¯ å­¦ä¹ ç»Ÿè®¡</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalQuestions">0</div>
                    <div class="stat-label">æ€»é¢˜æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="completedQuestions">0</div>
                    <div class="stat-label">å·²å®Œæˆ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="correctRate">0%</div>
                    <div class="stat-label">æ­£ç¡®ç‡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="favoriteCount">0</div>
                    <div class="stat-label">æ”¶è—é¢˜åº“</div>
                </div>
            </div>
        </div>

        <!-- æœç´¢å’Œç­›é€‰æ§åˆ¶ -->
        <div style="text-align: center; margin: 20px 0;">
            <div style="margin-bottom: 15px;">
                <input id="questionBankSearch" type="text" placeholder="ğŸ” æœç´¢é¢˜åº“åç§°/ç®€ä»‹/æ ‡ç­¾" 
                       style="width:320px;padding:8px 16px;border-radius:8px;border:1px solid #ccc;font-size:1.1em;">
            </div>
            
            <div class="filter-buttons">
                <select id="difficultyFilter" style="margin-right:10px;padding:6px 12px;border-radius:6px;border:1px solid #ccc;">
                    <option value="">å…¨éƒ¨éš¾åº¦</option>
                    <option value="easy">ç®€å•</option>
                    <option value="medium">ä¸­ç­‰</option>
                    <option value="hard">å›°éš¾</option>
                </select>
                
                <select id="tagFilter" style="margin-right:10px;padding:6px 12px;border-radius:6px;border:1px solid #ccc;">
                    <option value="">å…¨éƒ¨åˆ†ç±»</option>
                </select>
                
                <select id="countFilter" style="margin-right:10px;padding:6px 12px;border-radius:6px;border:1px solid #ccc;">
                    <option value="">é¢˜ç›®æ•°é‡</option>
                    <option value="1-10">1-10é¢˜</option>
                    <option value="11-50">11-50é¢˜</option>
                    <option value="51-100">51-100é¢˜</option>
                    <option value="100+">100é¢˜ä»¥ä¸Š</option>
                </select>
                
                <button id="clearFilters" class="btn btn-info">æ¸…é™¤ç­›é€‰</button>
            </div>
            
            <div class="filter-buttons">
                <button id="showFavorites" class="btn btn-danger">â­ æˆ‘çš„æ”¶è—</button>
                <button id="showAll" class="btn btn-primary">ğŸ“š å…¨éƒ¨é¢˜åº“</button>
                <button id="showWrongQuestions" class="btn btn-warning">âŒ é”™é¢˜æœ¬</button>
                <button id="manageFavorites" class="btn btn-warning">ğŸ“‹ æ”¶è—ç®¡ç†</button>
                <button id="teacherPanel" class="btn" style="background: linear-gradient(135deg, #ff6b6b, #ff8e8e); color: white;" onclick="window.open('../teacher-panel.html', '_blank')" title="æ•™å¸ˆç®¡ç†ç«¯">ğŸ‘¨â€ğŸ« æ•™å¸ˆç«¯</button>
                <button id="showHelp" class="btn btn-info" title="å¿«æ·é”®å¸®åŠ©">â“ å¸®åŠ©</button>
            </div>
        </div>

        <!-- å¢å¼ºåŠŸèƒ½å¡ç‰‡ -->
        <div class="enhanced-features">
            <h3 style="text-align: center; margin-bottom: 20px;">ğŸš€ æ™ºèƒ½å­¦ä¹ åŠŸèƒ½</h3>
            <div class="feature-grid">
                <div class="feature-card" onclick="showSmartSearch()">
                    <div class="feature-icon">ğŸ”</div>
                    <div class="feature-title">æ™ºèƒ½æœç´¢</div>
                    <div class="feature-desc">AIé©±åŠ¨çš„æ™ºèƒ½æœç´¢ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…å’Œè¯­ä¹‰æœç´¢</div>
                </div>
                <div class="feature-card" onclick="showAdvancedFilters()">
                    <div class="feature-icon">âš™ï¸</div>
                    <div class="feature-title">é«˜çº§ç­›é€‰</div>
                    <div class="feature-desc">å¤šç»´åº¦ç­›é€‰ï¼Œç²¾ç¡®æ‰¾åˆ°éœ€è¦çš„é¢˜åº“</div>
                </div>
                <div class="feature-card" onclick="showStatsPanel()">
                    <div class="feature-icon">ğŸ“Š</div>
                    <div class="feature-title">å­¦ä¹ ç»Ÿè®¡</div>
                    <div class="feature-desc">è¯¦ç»†çš„å­¦ä¹ æ•°æ®ç»Ÿè®¡å’Œåˆ†æ</div>
                </div>
                <div class="feature-card" onclick="showRecommendationPanel()">
                    <div class="feature-icon">ğŸ¯</div>
                    <div class="feature-title">æ™ºèƒ½æ¨è</div>
                    <div class="feature-desc">åŸºäºå­¦ä¹ è¿›åº¦æ™ºèƒ½æ¨èé¢˜åº“</div>
                </div>
            </div>
        </div>

        <!-- æ™ºèƒ½æœç´¢åŒºåŸŸ -->
        <div id="smartSearchArea" class="smart-search" style="display: none;">
            <h4>ğŸ” æ™ºèƒ½æœç´¢</h4>
            <input type="text" id="smartSearchInput" placeholder="è¾“å…¥å…³é”®è¯è¿›è¡Œæ™ºèƒ½æœç´¢..." 
                   style="width: 100%; padding: 12px; border: 2px solid var(--ocean-light); border-radius: 8px; font-size: 1em;">
            <div id="searchSuggestions" class="search-suggestions"></div>
        </div>

        <!-- é«˜çº§ç­›é€‰åŒºåŸŸ -->
        <div id="advancedFiltersArea" class="advanced-filters" style="display: none;">
            <h4>âš™ï¸ é«˜çº§ç­›é€‰</h4>
            <div class="filter-group">
                <div class="filter-item">
                    <label class="filter-label">éš¾åº¦ç­‰çº§</label>
                    <select id="advancedDifficultyFilter" class="filter-select">
                        <option value="">å…¨éƒ¨éš¾åº¦</option>
                        <option value="easy">ç®€å•</option>
                        <option value="medium">ä¸­ç­‰</option>
                        <option value="hard">å›°éš¾</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label class="filter-label">é¢˜ç›®ç±»å‹</label>
                    <select id="advancedTypeFilter" class="filter-select">
                        <option value="">å…¨éƒ¨ç±»å‹</option>
                        <option value="choice">é€‰æ‹©é¢˜</option>
                        <option value="fill">å¡«ç©ºé¢˜</option>
                        <option value="judge">åˆ¤æ–­é¢˜</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label class="filter-label">å®ŒæˆçŠ¶æ€</label>
                    <select id="advancedStatusFilter" class="filter-select">
                        <option value="">å…¨éƒ¨çŠ¶æ€</option>
                        <option value="completed">å·²å®Œæˆ</option>
                        <option value="incomplete">æœªå®Œæˆ</option>
                        <option value="favorite">å·²æ”¶è—</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- å­¦ä¹ ç»Ÿè®¡é¢æ¿ -->
        <div id="statsPanel" class="stats-panel" style="display: none;">
            <h4>ğŸ“Š è¯¦ç»†ç»Ÿè®¡</h4>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalQuestions">0</div>
                    <div class="stat-label">æ€»é¢˜æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="completedQuestions">0</div>
                    <div class="stat-label">å·²å®Œæˆ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="correctRate">0%</div>
                    <div class="stat-label">æ­£ç¡®ç‡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="studyTime">0h</div>
                    <div class="stat-label">å­¦ä¹ æ—¶é•¿</div>
                </div>
            </div>
        </div>

        <!-- æ™ºèƒ½æ¨èé¢æ¿ -->
        <div id="recommendationPanel" class="recommendation-panel" style="display: none;">
            <h4>ğŸ¯ æ™ºèƒ½æ¨è</h4>
            <div id="recommendationContent">
                <p>æ­£åœ¨åˆ†ææ‚¨çš„å­¦ä¹ æ•°æ®ï¼Œä¸ºæ‚¨æ¨èåˆé€‚çš„é¢˜åº“...</p>
            </div>
        </div>

        <!-- é¢˜åº“æ˜¾ç¤ºåŒºåŸŸ -->
        <div id="questionBanksList">
            <div style="text-align: center; color: white; padding: 40px;">
                <div class="loading"></div>
                <p style="margin-top: 20px;">æ­£åœ¨åŠ è½½é¢˜åº“æ•°æ®...</p>
            </div>
        </div>

        <!-- åˆ†é¡µæ§åˆ¶ -->
        <div id="paginationControls" style="text-align: center; margin: 30px 0;"></div>
    </div>

    <!-- é€šçŸ¥å®¹å™¨ -->
    <div id="notification-container" style="position: fixed; top: 20px; right: 20px; z-index: 1000;"></div>

    <!-- æ¨¡å—åŒ–JavaScript -->
    <script src="question-bank-data.js"></script>
    <script src="question-bank-ui.js"></script>
    <script src="question-bank-user.js"></script>
    <script src="question-bank-stats.js"></script>
    <script src="question-bank-practice.js"></script>
    <script src="question-bank-ai.js"></script>
    
    <!-- ä¸»åˆå§‹åŒ–è„šæœ¬ -->
    <script>
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // åˆå§‹åŒ–å„ä¸ªæ¨¡å—
                if (typeof QuestionBankData !== 'undefined') {
                    QuestionBankData.init();
                }
                if (typeof QuestionBankUI !== 'undefined') {
                    QuestionBankUI.init();
                }
                if (typeof QuestionBankUser !== 'undefined') {
                    QuestionBankUser.init();
                }
                if (typeof QuestionBankStats !== 'undefined') {
                    QuestionBankStats.init();
                }
                
                console.log('é¢˜åº“æ¨¡å—åˆå§‹åŒ–å®Œæˆ');
            } catch (error) {
                console.error('é¢˜åº“æ¨¡å—åˆå§‹åŒ–å¤±è´¥:', error);
                showNotification('é¢˜åº“åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•', 'error');
            }
        });
        
        // åŸºç¡€å‡½æ•°
        function showNotification(message, type = 'info', duration = 3000) {
            const container = document.getElementById('notification-container');
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, duration);
        }
        
        // åŠŸèƒ½é¢æ¿æ˜¾ç¤º/éšè—
        function showSmartSearch() {
            const area = document.getElementById('smartSearchArea');
            area.style.display = area.style.display === 'none' ? 'block' : 'none';
        }
        
        function showAdvancedFilters() {
            const area = document.getElementById('advancedFiltersArea');
            area.style.display = area.style.display === 'none' ? 'block' : 'none';
        }
        
        function showStatsPanel() {
            const panel = document.getElementById('statsPanel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            if (panel.style.display === 'block' && typeof QuestionBankStats !== 'undefined') {
                QuestionBankStats.updateStats();
            }
        }
        
        function showRecommendationPanel() {
            const panel = document.getElementById('recommendationPanel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html> 