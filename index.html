<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    <title>üåä ÊµÅ‰ΩìÂäõÂ≠¶Â≠¶‰π†Âπ≥Âè∞ - Ê®°ÂùóÂåñÁâàÊú¨</title>
    
    <!-- Á°Æ‰øùÈ°µÈù¢Ê≠£Á°ÆÂä†ËΩΩ -->
    <script>
        // Ê£ÄÊü•È°µÈù¢ÊòØÂê¶Ê≠£Á°ÆÂä†ËΩΩ
        if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
            console.log('‰∏ªÈ°µÊ≠£Á°ÆÂä†ËΩΩ');
        }
    </script>
    
    <!-- Font Awesome - ‰ΩøÁî®ÂõΩÂÜÖCDN -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" onerror="loadFallbackFA()">
    
    <!-- Chart.js - ‰ΩøÁî®ÂõΩÂÜÖCDN -->
    <script src="https://cdn.bootcdn.net/ajax/libs/Chart.js/3.9.1/chart.min.js" onerror="loadFallbackChart()"></script>
    
    <!-- Quill.js - ‰ΩøÁî®ÂõΩÂÜÖCDN -->
    <script src="https://cdn.bootcdn.net/ajax/libs/quill/1.3.7/quill.min.js" onerror="loadFallbackQuill()"></script>
    <link href="https://cdn.bootcdn.net/ajax/libs/quill/1.3.7/quill.snow.min.css" rel="stylesheet" onerror="loadFallbackQuillCSS()">
    
    <style>
        /* ===== Áé∞‰ª£Âåñ‰∏ªÈ¢òÂèòÈáè ===== */
        :root {
            --ocean-blue: #006994;
            --ocean-light: #4facfe;
            --ocean-deep: #003d5b;
            --coral: #ff6b6b;
            --seafoam: #00f2fe;
            --sand: #f4d03f;
            --wave-blue: #3498db;
            --bg-ocean: linear-gradient(135deg, #006994 0%, #4facfe 25%, #00f2fe 50%, #006994 75%, #003d5b 100%);
            --text-light: #ffffff;
            --text-dark: #2c3e50;
            
            /* Êñ∞Â¢ûÁé∞‰ª£ÂåñÂèòÈáè */
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            --danger-gradient: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --glass-blur: blur(20px);
            
            --card-radius: 20px;
            --button-radius: 12px;
            --input-radius: 10px;
            
            --transition-fast: 0.2s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
            
            --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 8px 25px rgba(0, 0, 0, 0.15);
            --shadow-heavy: 0 15px 35px rgba(0, 0, 0, 0.2);
            
            --spacing-xs: 8px;
            --spacing-sm: 16px;
            --spacing-md: 24px;
            --spacing-lg: 32px;
            --spacing-xl: 48px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-ocean);
            background-size: 400% 400%;
            animation: ocean-wave 15s ease-in-out infinite;
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        @keyframes ocean-wave {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* ===== Êµ∑Ê¥ãËÉåÊôØ ===== */
        .ocean-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none"><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25" fill="%2300f2fe"/><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5" fill="%234facfe"/><path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" fill="%23006994"/></svg>') repeat-x;
            animation: wave-move 20s linear infinite;
        }
        
        .wave:nth-child(2) {
            animation-delay: -5s;
            opacity: 0.7;
        }
        
        .wave:nth-child(3) {
            animation-delay: -10s;
            opacity: 0.5;
        }
        
        @keyframes wave-move {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        /* ===== Áé∞‰ª£ÂåñÁªÑ‰ª∂Ê†∑Âºè ===== */
        
        /* ÊØõÁéªÁíÉÂç°Áâá */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            border: 1px solid var(--glass-border);
            border-radius: var(--card-radius);
            box-shadow: var(--glass-shadow);
            transition: var(--transition-normal);
        }
        
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-heavy);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        /* Áé∞‰ª£ÂåñÊåâÈíÆ */
        .modern-btn {
            background: var(--primary-gradient);
            border: none;
            border-radius: var(--button-radius);
            color: white;
            padding: var(--spacing-sm) var(--spacing-lg);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-normal);
            box-shadow: var(--shadow-light);
            position: relative;
            overflow: hidden;
        }
        
        .modern-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: var(--transition-slow);
        }
        
        .modern-btn:hover::before {
            left: 100%;
        }
        
        .modern-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }
        
        .modern-btn:active {
            transform: translateY(0);
        }
        
        /* Áé∞‰ª£ÂåñËæìÂÖ•Ê°Ü */
        .modern-input {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            border: 1px solid var(--glass-border);
            border-radius: var(--input-radius);
            padding: var(--spacing-sm) var(--spacing-md);
            color: var(--text-light);
            font-size: 1rem;
            transition: var(--transition-normal);
            outline: none;
        }
        
        .modern-input:focus {
            border-color: var(--seafoam);
            box-shadow: 0 0 0 3px rgba(0, 242, 254, 0.1);
        }
        
        .modern-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        /* Áé∞‰ª£ÂåñÂç°ÁâáÁΩëÊ†º */
        .modern-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            padding: var(--spacing-lg);
        }
        
        /* Áé∞‰ª£ÂåñÊ†áÈ¢ò */
        .modern-title {
            font-size: 3rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            margin-bottom: var(--spacing-lg);
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .modern-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            margin-bottom: var(--spacing-xl);
            font-weight: 300;
        }
        
        /* Áé∞‰ª£ÂåñÂØºËà™ */
        .modern-nav {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            border-bottom: 1px solid var(--glass-border);
            padding: var(--spacing-md) 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .modern-nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 var(--spacing-lg);
        }
        
        .modern-nav-logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-light);
            text-decoration: none;
        }
        
        .modern-nav-menu {
            display: flex;
            gap: var(--spacing-lg);
            list-style: none;
        }
        
        .modern-nav-menu a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition-fast);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--button-radius);
        }
        
        .modern-nav-menu a:hover {
            background: var(--glass-bg);
            color: var(--seafoam);
        }
        
        /* Áé∞‰ª£ÂåñËã±ÈõÑÂå∫Âüü */
        .modern-hero {
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: var(--spacing-xl) var(--spacing-lg);
        }
        
        .modern-hero-content {
            max-width: 800px;
        }
        
        /* Áé∞‰ª£ÂåñÁâπÊÄßÂç°Áâá */
        .feature-card {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            border: 1px solid var(--glass-border);
            border-radius: var(--card-radius);
            padding: var(--spacing-lg);
            text-align: center;
            transition: var(--transition-normal);
            position: relative;
            overflow: hidden;
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transition: var(--transition-normal);
        }
        
        .feature-card:hover::before {
            transform: scaleX(1);
        }
        
        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-heavy);
        }
        
        .feature-icon {
            font-size: 3rem;
            margin-bottom: var(--spacing-md);
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .feature-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
            color: var(--text-light);
        }
        
        .feature-desc {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }
        
        /* Áé∞‰ª£ÂåñÁªüËÆ° */
        .stats-section {
            padding: var(--spacing-xl) 0;
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            margin: var(--spacing-xl) 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }
        
        .stat-item {
            text-align: center;
            padding: var(--spacing-lg);
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--spacing-xs);
        }
        
        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            font-weight: 500;
        }
        
        /* Áé∞‰ª£ÂåñÈ°µËÑö */
        .modern-footer {
            background: var(--glass-bg);
            backdrop-filter: var(--glass-blur);
            border-top: 1px solid var(--glass-border);
            padding: var(--spacing-xl) 0;
            margin-top: var(--spacing-xl);
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
            padding: 0 var(--spacing-lg);
        }
        
        .footer-section h3 {
            color: var(--text-light);
            margin-bottom: var(--spacing-md);
            font-size: 1.2rem;
        }
        
        .footer-section p,
        .footer-section a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            line-height: 1.6;
        }
        
        .footer-section a:hover {
            color: var(--seafoam);
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            .modern-title {
                font-size: 2rem;
            }
            
            .modern-nav-menu {
                display: none;
            }
            
            .modern-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
                padding: var(--spacing-md);
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
        
        /* Âä®ÁîªÊïàÊûú */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }
        
        .animate-fade-in-left {
            animation: fadeInLeft 0.6s ease-out;
        }
        
        .animate-fade-in-right {
            animation: fadeInRight 0.6s ease-out;
        }
        
        /* Âä†ËΩΩÂä®Áîª */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid var(--seafoam);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ===== ÁôªÂΩïÁ≥ªÁªü ===== */
        .login-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            backdrop-filter: blur(10px);
        }
        
        .login-form {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 400px;
            color: var(--text-dark);
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .login-header h2 {
            color: var(--ocean-blue);
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--ocean-blue);
        }
        
        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--ocean-light);
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--coral);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.3);
        }
        
        .login-btn {
            width: 100%;
            padding: 15px;
            background: var(--ocean-blue);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .login-btn:hover {
            background: var(--ocean-deep);
            transform: translateY(-2px);
        }
        
        .login-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        /* ===== ÂØºËà™Ê†è ===== */
        .nav-bar {
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 3px solid var(--ocean-light);
            padding: 15px 0;
            backdrop-filter: blur(20px);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .nav-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--ocean-blue);
        }
        
        .nav-links {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .nav-link {
            color: var(--text-dark);
            text-decoration: none;
            padding: 10px 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .nav-link:hover,
        .nav-link.active {
            background: var(--ocean-light);
            color: white;
            transform: translateY(-2px);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--ocean-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .logout-btn {
            background: var(--coral);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .logout-btn:hover {
            background: #e74c3c;
        }
        
        /* ===== ‰∏ªÂÜÖÂÆπÂå∫Âüü ===== */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .welcome-section {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .welcome-title {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--text-light);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--seafoam);
            margin-bottom: 40px;
        }
        
        /* ===== ‰∏ªÈ°µÊ†∑Âºè ===== */
        .welcome-banner {
            background: linear-gradient(135deg, var(--ocean-blue), var(--ocean-light), var(--seafoam));
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }
        
        .banner-content {
            position: relative;
            z-index: 2;
        }
        
        .banner-title {
            font-size: 3.5rem;
            color: white;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .banner-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
        }
        
        .banner-stats {
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            text-align: center;
            color: white;
        }
        
        .stat-number {
            display: block;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .banner-decoration {
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .floating-element {
            position: absolute;
            font-size: 3rem;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-element:nth-child(1) {
            top: 20%;
            right: 10%;
            animation-delay: 0s;
        }
        
        .floating-element:nth-child(2) {
            top: 60%;
            right: 20%;
            animation-delay: 2s;
        }
        
        .floating-element:nth-child(3) {
            top: 40%;
            right: 5%;
            animation-delay: 4s;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .section-title {
            font-size: 2rem;
            color: var(--ocean-blue);
            margin-bottom: 30px;
            text-align: center;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--ocean-light), var(--seafoam));
            border-radius: 2px;
        }
        
        /* Âø´ÈÄüËÆøÈóÆÂå∫Âüü */
        .quick-access {
            margin-bottom: 50px;
        }
        
        .quick-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }
        
        .quick-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .quick-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        
        .quick-card:hover::before {
            transform: translateX(100%);
        }
        
        .quick-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .quick-card.primary {
            border-left: 5px solid var(--ocean-blue);
        }
        
        .quick-card.secondary {
            border-left: 5px solid var(--seafoam);
        }
        
        .quick-card.accent {
            border-left: 5px solid var(--coral);
        }
        
        .quick-icon {
            font-size: 3rem;
            flex-shrink: 0;
        }
        
        .quick-content {
            flex: 1;
        }
        
        .quick-content h3 {
            font-size: 1.4rem;
            color: var(--ocean-blue);
            margin-bottom: 8px;
        }
        
        .quick-content p {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .quick-meta {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .meta-item {
            background: rgba(79, 172, 254, 0.1);
            color: var(--ocean-blue);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .quick-arrow {
            font-size: 1.5rem;
            color: var(--ocean-light);
            transition: transform 0.3s ease;
        }
        
        .quick-card:hover .quick-arrow {
            transform: translateX(5px);
        }
        
        /* Êï∞ÊçÆÊ¶ÇËßà */
        .data-overview {
            margin-bottom: 50px;
        }
        
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
        }
        
        .overview-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .overview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .overview-header h3 {
            color: var(--ocean-blue);
            font-size: 1.3rem;
        }
        
        .view-more {
            background: var(--ocean-light);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .view-more:hover {
            background: var(--ocean-blue);
            transform: translateY(-2px);
        }
        
        .chart-container-small {
            height: 200px;
            position: relative;
        }
        
        .progress-container {
            margin-top: 20px;
        }
        
        .progress-bar {
            width: 100%;
            height: 12px;
            background: #f0f0f0;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--ocean-light), var(--seafoam));
            border-radius: 6px;
            transition: width 0.8s ease;
            width: 0%;
        }
        
        .progress-stats {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.9rem;
        }
        
        .learning-chart-container {
            margin-top: 20px;
            height: 200px;
            position: relative;
        }
        
        .progress-percentage {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--ocean-blue);
        }
        
        /* ÁÉ≠Èó®ËµÑÊ∫ê */
        .popular-resources {
            margin-bottom: 50px;
        }
        
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .resource-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .resource-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .resource-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .resource-type {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .resource-type.video {
            background: rgba(231, 76, 60, 0.1);
            color: #e74c3c;
        }
        
        .resource-type.question {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
        }
        
        .resource-type.plan {
            background: rgba(46, 204, 113, 0.1);
            color: #2ecc71;
        }
        
        .resource-hot, .resource-new, .resource-featured {
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .resource-hot {
            background: rgba(231, 76, 60, 0.1);
            color: #e74c3c;
        }
        
        .resource-new {
            background: rgba(46, 204, 113, 0.1);
            color: #2ecc71;
        }
        
        .resource-featured {
            background: rgba(241, 196, 15, 0.1);
            color: #f1c40f;
        }
        
        .resource-card h3 {
            color: var(--ocean-blue);
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .resource-card p {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .resource-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .resource-meta span {
            color: #888;
            font-size: 0.85rem;
        }
        
        .resource-btn {
            background: var(--ocean-light);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .resource-btn:hover {
            background: var(--ocean-blue);
            transform: translateY(-2px);
        }
        
        /* ÊúÄÊñ∞Âä®ÊÄÅ */
        .latest-updates {
            margin-bottom: 50px;
        }
        
        .updates-list {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .update-item {
            display: flex;
            gap: 15px;
            padding: 20px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .update-item:last-child {
            border-bottom: none;
        }
        
        .update-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .update-content {
            flex: 1;
        }
        
        .update-content h4 {
            color: var(--ocean-blue);
            margin-bottom: 5px;
            font-size: 1.1rem;
        }
        
        .update-content p {
            color: #666;
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .update-time {
            color: #999;
            font-size: 0.85rem;
        }
        
        /* ===== Ê®°ÂùóÁΩëÊ†º ===== */
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        
        .module-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            color: var(--text-dark);
            position: relative;
            overflow: hidden;
        }
        
        .module-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--ocean-light);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .module-card:hover::before {
            transform: scaleX(1);
        }
        
        .module-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .module-icon {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--ocean-blue);
        }
        
        .module-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--ocean-blue);
        }
        
        .module-description {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .module-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .status-available {
            background: #27ae60;
            color: white;
        }
        
        .status-coming {
            background: #f39c12;
            color: white;
        }
        
        .status-maintenance {
            background: #e74c3c;
            color: white;
        }
        
        /* ===== ÂàÜÊï∞ÂèØËßÜÂåñ ===== */
        .score-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            color: var(--text-dark);
        }
        
        .score-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .score-filters {
            display: flex;
            gap: 10px;
        }
        
        .filter-btn {
            padding: 8px 15px;
            border: 2px solid var(--ocean-light);
            background: transparent;
            color: var(--ocean-blue);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-btn.active,
        .filter-btn:hover {
            background: var(--ocean-light);
            color: white;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* ===== ÈÄöÁü•Á≥ªÁªü ===== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid var(--ocean-light);
            border-radius: 15px;
            padding: 20px;
            color: var(--text-dark);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transform: translateX(100%);
            transition: transform 0.3s ease;
            z-index: 1000;
            max-width: 350px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            border-color: #27ae60;
            background: rgba(39, 174, 96, 0.1);
        }
        
        .notification.error {
            border-color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
        }
        
        /* Âä†ËΩΩÂä®Áîª */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(5px);
        }
        
        .loading-content {
            text-align: center;
            color: white;
        }
        
        .loading-spinner {
            position: relative;
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
        }
        
        .spinner-ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 4px solid transparent;
            border-top: 4px solid var(--ocean-light);
            border-radius: 50%;
            animation: spin 1.2s linear infinite;
        }
        
        .spinner-ring:nth-child(2) {
            width: 60px;
            height: 60px;
            top: 10px;
            left: 10px;
            border-top-color: var(--seafoam);
            animation-delay: -0.4s;
        }
        
        .spinner-ring:nth-child(3) {
            width: 40px;
            height: 40px;
            top: 20px;
            left: 20px;
            border-top-color: var(--coral);
            animation-delay: -0.8s;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ===== ÈÄöÁî®Ê®°ÊÄÅÊ°ÜÊ†∑Âºè ===== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10001;
            backdrop-filter: blur(10px);
        }
        
        .modal-overlay .modal-content {
            background: white;
            border-radius: 20px;
            padding: 0;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .modal-overlay .modal-header {
            background: linear-gradient(135deg, var(--ocean-blue), var(--ocean-light));
            color: white;
            padding: 25px 30px;
            border-radius: 20px 20px 0 0;
            position: relative;
        }
        
        .modal-overlay .modal-header h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .modal-overlay .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .modal-overlay .close-btn:hover {
            transform: scale(1.2);
            color: var(--seafoam);
        }
        
        .modal-overlay .modal-body {
            padding: 30px;
        }
        
        .modal-overlay .modal-footer {
            padding: 20px 30px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }
        
        .modal-overlay .btn-primary, 
        .modal-overlay .btn-secondary {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .modal-overlay .btn-primary {
            background: var(--ocean-light);
            color: white;
        }
        
        .modal-overlay .btn-primary:hover {
            background: var(--ocean-blue);
            transform: translateY(-2px);
        }
        
        .modal-overlay .btn-secondary {
            background: #f8f9fa;
            color: #666;
        }
        
        .modal-overlay .btn-secondary:hover {
            background: #e9ecef;
        }
        
        .modal-overlay .form-group {
            margin-bottom: 20px;
        }
        
        .modal-overlay .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }
        
        .modal-overlay .form-group input,
        .modal-overlay .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .modal-overlay .form-group input:focus,
        .modal-overlay .form-group textarea:focus {
            outline: none;
            border-color: var(--ocean-light);
            box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
        }
        
        .modal-overlay .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        /* ===== Á≥ªÁªüÁä∂ÊÄÅÊ£ÄÊü•Ê†∑Âºè ===== */
        .status-header, .integrity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--ocean-light);
        }
        
        .status-progress {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .progress-bar {
            width: 200px;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--ocean-light);
            transition: width 0.3s ease;
        }
        
        .progress-text {
            font-weight: 600;
            color: var(--ocean-light);
        }
        
        .status-list, .integrity-list {
            display: grid;
            gap: 15px;
        }
        
        .status-item, .integrity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .status-icon, .integrity-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
        }
        
        .status-info, .integrity-info {
            flex: 1;
        }
        
        .status-name, .integrity-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .status-detail, .integrity-detail {
            font-size: 0.9em;
            opacity: 0.8;
        }
        
        .loading-text {
            font-size: 1.1rem;
            font-weight: 500;
            margin: 0;
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        /* ===== ÂìçÂ∫îÂºèËÆæËÆ° ===== */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .modules-grid {
                grid-template-columns: 1fr;
            }
            
            .welcome-title {
                font-size: 2rem;
            }
            
            .score-filters {
                flex-wrap: wrap;
            }
        }
        
        /* ===== ÈöêËóèÁôªÂΩïÂêéÁöÑÂÜÖÂÆπ ===== */
        .logged-in-content {
            display: none;
        }
        
        .logged-in-content.show {
            display: block;
        }
        
        /* ===== Ê®°ÊÄÅÊ°ÜÊ†∑Âºè ===== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            backdrop-filter: blur(10px);
        }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .modal-header h3 {
            color: var(--ocean-blue);
            margin: 0;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .close-btn:hover {
            background: #f0f0f0;
            color: #333;
        }
        
        .modal-body {
            padding: 30px;
        }
        
        /* ===== ËÆæÁΩÆÈ°µÈù¢Ê†∑Âºè ===== */
        .settings-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .settings-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 2px solid var(--ocean-light);
        }
        
        .settings-card h3 {
            color: var(--ocean-blue);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .settings-content {
            color: var(--text-dark);
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, var(--ocean-light), var(--seafoam));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: white;
        }
        
        .profile-info h4 {
            color: var(--ocean-blue);
            margin-bottom: 5px;
        }
        
        .profile-info p {
            color: #666;
            margin: 5px 0;
        }
        
        .profile-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .settings-btn {
            background: var(--ocean-light);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .settings-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
        }
        
        .settings-btn.danger {
            background: var(--coral);
        }
        
        .settings-btn.danger:hover {
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }
        
        .data-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .setting-item {
            margin-bottom: 15px;
        }
        
        .setting-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .setting-label input[type="checkbox"] {
            display: none;
        }
        
        .checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid var(--ocean-light);
            border-radius: 4px;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .setting-label input[type="checkbox"]:checked + .checkmark {
            background: var(--ocean-light);
        }
        
        .setting-label input[type="checkbox"]:checked + .checkmark::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .about-info p {
            margin: 10px 0;
            color: #666;
        }
        
        .about-info a {
            color: var(--ocean-blue);
            text-decoration: none;
        }
        
        .about-info a:hover {
            text-decoration: underline;
        }
        
        /* ÊïôÂ∏àÁ´ØÊï∞ÊçÆÁõëÊéßÊ†∑Âºè */
        .teacher-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .student-data-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .student-data-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .student-data-table th {
            background: var(--ocean-light);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .student-data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .student-data-table tr:hover {
            background: rgba(79, 172, 254, 0.05);
        }
        
        .student-data-table tr:last-child td {
            border-bottom: none;
        }
        
        /* ===== ÁßªÂä®Á´ØËß¶Êë∏‰ºòÂåñ ===== */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
                margin: 0;
            }
            
            .page-title {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            .quick-access {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .quick-card {
                padding: 20px;
                border-radius: 15px;
                min-height: 120px;
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }
            
            .quick-card:active {
                transform: scale(0.95);
            }
            
            .module-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .module-card {
                padding: 20px;
                border-radius: 15px;
                min-height: 100px;
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }
            
            .module-card:active {
                transform: scale(0.95);
            }
            
            .resource-section {
                padding: 15px;
                border-radius: 15px;
            }
            
            .resource-btn {
                padding: 12px 20px;
                font-size: 0.9rem;
                border-radius: 25px;
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }
            
            .resource-btn:active {
                transform: scale(0.95);
            }
            
            .nav-link {
                padding: 12px 15px;
                font-size: 0.9rem;
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }
            
            .nav-link:active {
                transform: scale(0.95);
            }
        }
        
        /* ===== SafariÊµèËßàÂô®ÈÄÇÈÖç ===== */
        @supports (-webkit-appearance: none) {
            .quick-card, .module-card, .resource-btn, .nav-link {
                -webkit-appearance: none;
                -webkit-tap-highlight-color: transparent;
            }
        }
        
        /* ===== iOS SafariÁâπÊÆäÈÄÇÈÖç ===== */
        @media screen and (-webkit-min-device-pixel-ratio: 2) {
            .container {
                -webkit-text-size-adjust: 100%;
            }
            
            .quick-card, .module-card, .resource-btn, .nav-link {
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                user-select: none;
            }
        }
        
        /* ===== Ëß¶Êë∏ËÆæÂ§á‰ºòÂåñ ===== */
        @media (hover: none) and (pointer: coarse) {
            .quick-card:hover,
            .module-card:hover,
            .resource-btn:hover,
            .nav-link:hover {
                transform: none;
            }
            
            .quick-card:active,
            .module-card:active,
            .resource-btn:active,
            .nav-link:active {
                transform: scale(0.95);
            }
        }
        
        /* ===== ÈÄöÁî®Ëß¶Êë∏‰ºòÂåñ ===== */
        .quick-card, .module-card, .resource-btn, .nav-link {
            transition: transform 0.1s ease;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        /* ===== Èò≤Ê≠¢ÂèåÂáªÁº©Êîæ ===== */
        * {
            touch-action: manipulation;
        }
        
        /* ===== ÁßªÂä®Á´ØÊåâÈíÆ‰ºòÂåñ ===== */
        @media (max-width: 768px) {
            button, .btn, .btn-action {
                min-height: 44px;
                min-width: 44px;
                padding: 12px 20px;
                font-size: 16px;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }
            
            input, select, textarea {
                font-size: 16px;
                -webkit-appearance: none;
                border-radius: 8px;
            }
        }
    </style>
    <script>
        // Â§áÁî®CDNÂä†ËΩΩÊú∫Âà∂
        function loadFallbackFA() {
            console.log('Font Awesome CDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂ∞ùËØïÂ§áÁî®CDN...');
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css';
            document.head.appendChild(link);
        }
        
        function loadFallbackChart() {
            console.log('Chart.js CDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂ∞ùËØïÂ§áÁî®CDN...');
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
            script.crossOrigin = 'anonymous';
            document.head.appendChild(script);
        }
        
        function loadFallbackQuill() {
            console.log('Quill.js CDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂ∞ùËØïÂ§áÁî®CDN...');
            const script = document.createElement('script');
            script.src = 'https://cdn.quilljs.com/1.3.7/quill.min.js';
            document.head.appendChild(script);
        }
        
        function loadFallbackQuillCSS() {
            console.log('Quill.js CSS CDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂ∞ùËØïÂ§áÁî®CDN...');
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdn.quilljs.com/1.3.7/quill.snow.css';
            document.head.appendChild(link);
        }
        
        // Ê£ÄÊµãÁΩëÁªúËøûÊé•Áä∂ÊÄÅ
        function checkNetworkStatus() {
            if (!navigator.onLine) {
                showNotification('ÁΩëÁªúËøûÊé•Â∑≤Êñ≠ÂºÄÔºåÈÉ®ÂàÜÂäüËÉΩÂèØËÉΩÂèóÈôê', 'warning');
            }
        }
        
        // ÁõëÂê¨ÁΩëÁªúÁä∂ÊÄÅÂèòÂåñ
        window.addEventListener('online', function() {
            showNotification('ÁΩëÁªúËøûÊé•Â∑≤ÊÅ¢Â§ç', 'success');
        });
        
        window.addEventListener('offline', function() {
            showNotification('ÁΩëÁªúËøûÊé•Â∑≤Êñ≠ÂºÄ', 'warning');
        });
        
        // È°µÈù¢Âä†ËΩΩÊó∂Ê£ÄÊü•ÁΩëÁªúÁä∂ÊÄÅ
        document.addEventListener('DOMContentLoaded', function() {
            checkNetworkStatus();
        });
    </script>
</head>
    <body>
        <!-- Êµ∑Ê¥ãËÉåÊôØ -->
        <div class="ocean-bg">
            <div class="wave"></div>
            <div class="wave"></div>
            <div class="wave"></div>
        </div>
        
        <!-- Áé∞‰ª£ÂåñÂØºËà™Ê†è -->
        <nav class="modern-nav">
            <div class="modern-nav-content">
                <a href="#" class="modern-nav-logo">
                    <i class="fas fa-water"></i> ÊµÅ‰ΩìÂäõÂ≠¶Â≠¶‰π†Âπ≥Âè∞
                </a>
                <ul class="modern-nav-menu">
                    <li><a href="#home">È¶ñÈ°µ</a></li>
                    <li><a href="#features">ÂäüËÉΩ</a></li>
                    <li><a href="#about">ÂÖ≥‰∫é</a></li>
                    <li><a href="#contact">ËÅîÁ≥ª</a></li>
                </ul>
            </div>
        </nav>
    
    <!-- Áé∞‰ª£ÂåñÁôªÂΩïÁ≥ªÁªü -->
    <div class="login-container" id="loginContainer">
        <div class="glass-card" style="max-width: 400px; width: 90%; padding: var(--spacing-xl);">
            <div style="text-align: center; margin-bottom: var(--spacing-lg);">
                <div style="font-size: 3rem; margin-bottom: var(--spacing-sm);">
                    <i class="fas fa-water"></i>
                </div>
                <h2 style="color: var(--text-light); font-size: 1.8rem; margin-bottom: var(--spacing-xs);">
                    ÊµÅ‰ΩìÂäõÂ≠¶Â≠¶‰π†Âπ≥Âè∞
                </h2>
                <p style="color: rgba(255, 255, 255, 0.8); font-size: 1rem;">
                    ËØ∑ÁôªÂΩï‰ª•ÁªßÁª≠‰ΩøÁî®
                </p>
            </div>
            <form onsubmit="performLogin(event)">
                <div style="margin-bottom: var(--spacing-md);">
                    <label for="username" style="display: block; color: var(--text-light); margin-bottom: var(--spacing-xs); font-weight: 500;">
                        Áî®Êà∑Âêç
                    </label>
                    <input type="text" id="username" class="modern-input" style="width: 100%;" required placeholder="ËØ∑ËæìÂÖ•Áî®Êà∑Âêç">
                </div>
                <div style="margin-bottom: var(--spacing-lg);">
                    <label for="password" style="display: block; color: var(--text-light); margin-bottom: var(--spacing-xs); font-weight: 500;">
                        ÂØÜÁ†Å
                    </label>
                    <input type="password" id="password" class="modern-input" style="width: 100%;" required placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å">
                </div>
                <button type="submit" class="modern-btn" id="loginBtn" style="width: 100%;">
                    <span id="loginBtnText">ÁôªÂΩï</span>
                </button>
            </form>
            <div style="margin-top: var(--spacing-lg); text-align: center;">
                <a href="#" onclick="showForgotPasswordModal()" style="color: var(--seafoam); text-decoration: none; font-size: 0.9em; transition: var(--transition-fast);">
                    <i class="fas fa-key"></i> ÂøòËÆ∞ÂØÜÁ†ÅÔºü
                </a>
            </div>
        </div>
    </div>
    
    <!-- ÁôªÂΩïÂêéÁöÑÂÜÖÂÆπ -->
    <div class="logged-in-content" id="loggedInContent">
        <!-- Áé∞‰ª£ÂåñÂØºËà™Ê†è -->
        <nav class="modern-nav">
            <div class="modern-nav-content">
                <a href="#" class="modern-nav-logo">
                    <i class="fas fa-water"></i> ÊµÅ‰ΩìÂäõÂ≠¶Â≠¶‰π†Âπ≥Âè∞
                </a>
                <div class="modern-nav-menu">
                    <a href="#" onclick="showSection('home')" class="nav-link active">
                        <i class="fas fa-home"></i> ‰∏ªÈ°µ
                    </a>
                    <a href="#" onclick="showSection('modules')" class="nav-link">
                        <i class="fas fa-th-large"></i> ÂäüËÉΩÊ®°Âùó
                    </a>
                    <a href="#" onclick="showSection('scores')" class="nav-link">
                        <i class="fas fa-chart-line"></i> ÂàÜÊï∞ÂàÜÊûê
                    </a>
                    <a href="#" onclick="showSection('settings')" class="nav-link">
                        <i class="fas fa-cog"></i> ËÆæÁΩÆ
                    </a>
                </div>
                <div style="display: flex; align-items: center; gap: var(--spacing-md);">
                    <div style="display: flex; align-items: center; gap: var(--spacing-xs);">
                        <div style="width: 40px; height: 40px; background: var(--primary-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;" id="userAvatar">Áî®</div>
                        <span style="color: var(--text-light); font-weight: 500;" id="userName">Áî®Êà∑</span>
                    </div>
                    <button class="modern-btn" onclick="logout()" style="padding: var(--spacing-xs) var(--spacing-sm); font-size: 0.9rem;">
                        <i class="fas fa-sign-out-alt"></i> ÈÄÄÂá∫
                    </button>
                </div>
            </div>
        </nav>
        
        <!-- ‰∏ªÂÜÖÂÆπÂå∫Âüü -->
        <div class="main-content">
            <!-- ‰∏ªÈ°µ -->
            <section id="homeSection" class="content-section">
                <!-- Áé∞‰ª£ÂåñÊ¨¢ËøéÊ®™ÂπÖ -->
                <section class="modern-hero animate-fade-in-up">
                    <div class="modern-hero-content">
                        <h1 class="modern-title">üåä ÊµÅ‰ΩìÂäõÂ≠¶Â≠¶‰π†Âπ≥Âè∞</h1>
                        <p class="modern-subtitle">‰∏≠ÂõΩÊµ∑Ê¥ãÂ§ßÂ≠¶803ÊµÅ‰ΩìÂäõÂ≠¶‰∏ì‰∏ö ¬∑ Êô∫ËÉΩÂ≠¶‰π†Á≥ªÁªü</p>
                        <div class="stats-grid" style="margin-top: var(--spacing-xl);">
                            <div class="stat-item">
                                <div class="stat-number" id="totalQuestions">200+</div>
                                <div class="stat-label">È¢òÂ∫ìÈ¢òÁõÆ</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="totalVideos">30+</div>
                                <div class="stat-label">ËßÜÈ¢ëËØæÁ®ã</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="activeUsers">5+</div>
                                <div class="stat-label">Ê≥®ÂÜåÁî®Êà∑</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Áé∞‰ª£ÂåñÂø´ÈÄüËÆøÈóÆÂå∫Âüü -->
                <section style="padding: var(--spacing-xl) 0;">
                    <h2 class="modern-title" style="font-size: 2.5rem; margin-bottom: var(--spacing-xl);">üöÄ Âø´ÈÄüËÆøÈóÆ</h2>
                    <div class="modern-grid">
                        <div class="feature-card animate-fade-in-left" onclick="openModule('question-bank')" style="cursor: pointer;">
                            <div class="feature-icon">üìö</div>
                            <div class="feature-title">Êô∫ËÉΩÈ¢òÂ∫ì</div>
                            <div class="feature-desc">AIÈ©±Âä®ÁöÑÈ¢òÂ∫ìÁ≥ªÁªüÔºåÊô∫ËÉΩÂá∫È¢ò‰∏éÁªÉ‰π†</div>
                            <div style="margin-top: var(--spacing-md); display: flex; gap: var(--spacing-sm); justify-content: center; flex-wrap: wrap;">
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üìä 200+ È¢òÁõÆ</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üéØ ÂÆûÊó∂ÂèçÈ¶à</span>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-up" onclick="openModule('video')" style="cursor: pointer;">
                            <div class="feature-icon">üé•</div>
                            <div class="feature-title">ËßÜÈ¢ëÂ≠¶‰π†</div>
                            <div class="feature-desc">Á≤æÈÄâÊµÅ‰ΩìÂäõÂ≠¶ËßÜÈ¢ëËØæÁ®ãËµÑÊ∫ê</div>
                            <div style="margin-top: var(--spacing-md); display: flex; gap: var(--spacing-sm); justify-content: center; flex-wrap: wrap;">
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üì∫ 30+ ËßÜÈ¢ë</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">‚ö° ÂÄçÈÄüÊí≠Êîæ</span>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-right" onclick="openModule('ai-assistant')" style="cursor: pointer;">
                            <div class="feature-icon">ü§ñ</div>
                            <div class="feature-title">AIÂä©Êâã</div>
                            <div class="feature-desc">Êô∫ËÉΩÂ≠¶‰π†Âä©ÊâãÔºå‰∏™ÊÄßÂåñÁ≠îÁñëËß£ÊÉë</div>
                            <div style="margin-top: var(--spacing-md); display: flex; gap: var(--spacing-sm); justify-content: center; flex-wrap: wrap;">
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üí° Êô∫ËÉΩÊé®Ëçê</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üéì Â≠¶‰π†Âª∫ËÆÆ</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Áé∞‰ª£ÂåñÂ≠¶‰π†Êï∞ÊçÆÊ¶ÇËßà -->
                <section style="padding: var(--spacing-xl) 0;">
                    <h2 class="modern-title" style="font-size: 2.5rem; margin-bottom: var(--spacing-xl);">üìä Â≠¶‰π†Êï∞ÊçÆÊ¶ÇËßà</h2>
                    <div class="modern-grid">
                        <div class="glass-card animate-fade-in-left" style="padding: var(--spacing-lg);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md);">
                                <h3 style="color: var(--text-light); font-size: 1.3rem; font-weight: 600;">üìà ÂàÜÊï∞Á∫øË∂ãÂäø</h3>
                                <button class="modern-btn" onclick="showSection('scores')" style="padding: var(--spacing-xs) var(--spacing-sm); font-size: 0.9rem;">
                                    Êü•ÁúãËØ¶ÊÉÖ
                                </button>
                            </div>
                            <div style="height: 200px; position: relative;">
                                <canvas id="homeScoreChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="glass-card animate-fade-in-right" style="padding: var(--spacing-lg);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md);">
                                <h3 style="color: var(--text-light); font-size: 1.3rem; font-weight: 600;">üéØ Â≠¶‰π†ËøõÂ∫¶</h3>
                                <span style="color: var(--seafoam); font-size: 1.5rem; font-weight: 700;" id="learningProgress">0%</span>
                            </div>
                            <div style="margin-bottom: var(--spacing-md);">
                                <div style="width: 100%; height: 12px; background: rgba(255, 255, 255, 0.2); border-radius: 6px; overflow: hidden;">
                                    <div style="height: 100%; background: var(--primary-gradient); border-radius: 6px; transition: width 0.3s ease;" id="progressFill"></div>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between; color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">
                                <span>Â∑≤ÂÆåÊàê: <strong id="completedItems" style="color: var(--text-light);">0</strong> È°π</span>
                                <span>ÊÄªËÆ°: <strong id="totalItems" style="color: var(--text-light);">0</strong> È°π</span>
                            </div>
                            <div style="height: 150px; position: relative; margin-top: var(--spacing-md);">
                                <canvas id="learningChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Áé∞‰ª£ÂåñÁÉ≠Èó®ËµÑÊ∫ê -->
                <section style="padding: var(--spacing-xl) 0;">
                    <h2 class="modern-title" style="font-size: 2.5rem; margin-bottom: var(--spacing-xl);">üî• ÁÉ≠Èó®ËµÑÊ∫ê</h2>
                    <div class="modern-grid">
                        <div class="feature-card animate-fade-in-left" style="cursor: pointer;" onclick="openModule('video')">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md);">
                                <span style="background: var(--danger-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">üé• ËßÜÈ¢ë</span>
                                <span style="background: var(--danger-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">üî• ÁÉ≠Èó®</span>
                            </div>
                            <div class="feature-title">ÊµÅ‰ΩìÂäõÂ≠¶Âü∫Á°ÄÊ¶ÇÂøµ</div>
                            <div class="feature-desc">Ê∑±ÂÖ•ÊµÖÂá∫ËÆ≤Ëß£ÊµÅ‰ΩìÂäõÂ≠¶Ê†∏ÂøÉÊ¶ÇÂøµÔºåÈÄÇÂêàÂàùÂ≠¶ËÄÖ</div>
                            <div style="margin-top: var(--spacing-md); display: flex; gap: var(--spacing-sm); justify-content: center; flex-wrap: wrap;">
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">‚è±Ô∏è 45ÂàÜÈíü</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üëÅÔ∏è 50+ ËßÇÁúã</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">‚≠ê 4.8ÂàÜ</span>
                            </div>
                            <button class="modern-btn" style="margin-top: var(--spacing-md); width: 100%;">ËßÇÁúãËßÜÈ¢ë</button>
                        </div>
                        
                        <div class="feature-card animate-fade-in-up" style="cursor: pointer;" onclick="openModule('question-bank')">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md);">
                                <span style="background: var(--success-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">üìù È¢òÁõÆ</span>
                                <span style="background: var(--success-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">üÜï Êñ∞È¢ò</span>
                            </div>
                            <div class="feature-title">‰ºØÂä™Âà©ÊñπÁ®ã‰∏ìÈ°πÁªÉ‰π†</div>
                            <div class="feature-desc">20ÈÅìÁ≤æÈÄâÈ¢òÁõÆÔºåÊ∂µÁõñ‰ºØÂä™Âà©ÊñπÁ®ãÁöÑÂêÑÁßçÂ∫îÁî®Âú∫ÊôØ</div>
                            <div style="margin-top: var(--spacing-md); display: flex; gap: var(--spacing-sm); justify-content: center; flex-wrap: wrap;">
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üìä 20È¢ò</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">‚è∞ 30ÂàÜÈíü</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üéØ ÈöæÂ∫¶: ‰∏≠Á≠â</span>
                            </div>
                            <button class="modern-btn" style="margin-top: var(--spacing-md); width: 100%;">ÂºÄÂßãÁªÉ‰π†</button>
                        </div>
                        
                        <div class="feature-card animate-fade-in-right" style="cursor: pointer;" onclick="openModule('review')">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md);">
                                <span style="background: var(--warning-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">üìÖ ËÆ°Âàí</span>
                                <span style="background: var(--warning-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">‚≠ê Êé®Ëçê</span>
                            </div>
                            <div class="feature-title">ËÄÉÂâçÂÜ≤Âà∫Â§ç‰π†ËÆ°Âàí</div>
                            <div class="feature-desc">‰∏∫Êúü2Âë®ÁöÑÂØÜÈõÜÂ§ç‰π†ËÆ°ÂàíÔºåÁßëÂ≠¶ÂÆâÊéíÂ≠¶‰π†Êó∂Èó¥</div>
                            <div style="margin-top: var(--spacing-md); display: flex; gap: var(--spacing-sm); justify-content: center; flex-wrap: wrap;">
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üìÖ 14Â§©</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üìö 5‰∏™Ê®°Âùó</span>
                                <span style="background: var(--glass-bg); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: var(--text-light);">üéØ ÂÆåÊàêÁéá: 85%</span>
                            </div>
                            <button class="modern-btn" style="margin-top: var(--spacing-md); width: 100%;">Êü•ÁúãËÆ°Âàí</button>
                        </div>
                    </div>
                </section>

                <!-- Áé∞‰ª£ÂåñÊúÄÊñ∞Âä®ÊÄÅ -->
                <section style="padding: var(--spacing-xl) 0;">
                    <h2 class="modern-title" style="font-size: 2.5rem; margin-bottom: var(--spacing-xl);">üì¢ ÊúÄÊñ∞Âä®ÊÄÅ</h2>
                    <div class="modern-grid" style="grid-template-columns: 1fr;">
                        <div class="glass-card animate-fade-in-up" style="padding: var(--spacing-lg);">
                            <div style="display: flex; gap: var(--spacing-md); align-items: flex-start;">
                                <div style="width: 50px; height: 50px; background: var(--primary-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: white; flex-shrink: 0;">üÜï</div>
                                <div style="flex: 1;">
                                    <h4 style="color: var(--text-light); font-size: 1.2rem; margin-bottom: var(--spacing-xs);">Êñ∞Â¢ûAIÊô∫ËÉΩÂá∫È¢òÂäüËÉΩ</h4>
                                    <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6; margin-bottom: var(--spacing-sm);">Âü∫‰∫éSiliconFlow APIÁöÑÊô∫ËÉΩÈ¢òÁõÆÁîüÊàêÁ≥ªÁªüÂ∑≤‰∏äÁ∫ø</p>
                                    <span style="color: var(--seafoam); font-size: 0.9rem;">2Â∞èÊó∂Ââç</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="glass-card animate-fade-in-up" style="padding: var(--spacing-lg);">
                            <div style="display: flex; gap: var(--spacing-md); align-items: flex-start;">
                                <div style="width: 50px; height: 50px; background: var(--success-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: white; flex-shrink: 0;">üìö</div>
                                <div style="flex: 1;">
                                    <h4 style="color: var(--text-light); font-size: 1.2rem; margin-bottom: var(--spacing-xs);">È¢òÂ∫ìÊõ¥Êñ∞ÔºöÊñ∞Â¢û20ÈÅì‰ºØÂä™Âà©ÊñπÁ®ãÈ¢òÁõÆ</h4>
                                    <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6; margin-bottom: var(--spacing-sm);">Ê∂µÁõñÂÆûÈôÖÂ∑•Á®ãÂ∫îÁî®Âú∫ÊôØÔºåÊèêÂçáËß£È¢òËÉΩÂäõ</p>
                                    <span style="color: var(--seafoam); font-size: 0.9rem;">1Â§©Ââç</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="glass-card animate-fade-in-up" style="padding: var(--spacing-lg);">
                            <div style="display: flex; gap: var(--spacing-md); align-items: flex-start;">
                                <div style="width: 50px; height: 50px; background: var(--danger-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: white; flex-shrink: 0;">üé•</div>
                                <div style="flex: 1;">
                                    <h4 style="color: var(--text-light); font-size: 1.2rem; margin-bottom: var(--spacing-xs);">Êñ∞Â¢ûËßÜÈ¢ëÔºöÊµÅ‰ΩìÂäõÂ≠¶ÂÆûÈ™åÊºîÁ§∫</h4>
                                    <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6; margin-bottom: var(--spacing-sm);">ÂÆûÈ™åÂÆ§ÂÆûÊôØÊãçÊëÑÔºåÁõ¥ËßÇÂ±ïÁ§∫ÊµÅ‰ΩìÂäõÂ≠¶Áé∞Ë±°</p>
                                    <span style="color: var(--seafoam); font-size: 0.9rem;">3Â§©Ââç</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </section>
            
            <!-- Áé∞‰ª£ÂåñÂäüËÉΩÊ®°Âùó -->
            <section id="modulesSection" class="content-section" style="display: none;">
                <!-- ÊïôÂ∏àÁ´ØÂäüËÉΩÊ®°Âùó -->
                <div id="teacherModules" style="display: none;">
                    <h2 class="modern-title" style="font-size: 2.5rem; margin-bottom: var(--spacing-xl); text-align: center;">üéì ÊïôÂ∏àÁ´ØÂäüËÉΩÊ®°Âùó</h2>
                    <div class="modern-grid">
                        <div class="feature-card animate-fade-in-left" onclick="openModule('question-bank')" style="cursor: pointer;">
                            <div class="feature-icon">üìö</div>
                            <div class="feature-title">Êô∫ËÉΩÈ¢òÂ∫ì</div>
                            <div class="feature-desc">AIÈ©±Âä®ÁöÑÈ¢òÂ∫ìÁ≥ªÁªüÔºåÊîØÊåÅÊô∫ËÉΩÂá∫È¢ò„ÄÅÊâπÈáèÁîüÊàê„ÄÅÂÖ®Â±èÁªÉ‰π†Á≠âÂäüËÉΩ</div>
                            <div style="margin-top: var(--spacing-md);">
                                <span style="background: var(--success-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">ÂèØÁî®</span>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-up" onclick="openModule('video')" style="cursor: pointer;">
                            <div class="feature-icon">üé•</div>
                            <div class="feature-title">ËßÜÈ¢ëÂ≠¶‰π†</div>
                            <div class="feature-desc">‰∏∞ÂØåÁöÑÊµÅ‰ΩìÂäõÂ≠¶ËßÜÈ¢ëËµÑÊ∫êÔºåÊîØÊåÅÂ§öÁßçÊ†ºÂºèÂíå‰∫§‰∫íÂºèÂ≠¶‰π†</div>
                            <div style="margin-top: var(--spacing-md);">
                                <span style="background: var(--success-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">ÂèØÁî®</span>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-right" onclick="openModule('ai-assistant')" style="cursor: pointer;">
                            <div class="feature-icon">ü§ñ</div>
                            <div class="feature-title">AIÂä©Êâã</div>
                            <div class="feature-desc">Êô∫ËÉΩÂ≠¶‰π†Âä©ÊâãÔºåÊèê‰æõ‰∏™ÊÄßÂåñÂ≠¶‰π†Âª∫ËÆÆÂíåÁ≠îÁñëËß£ÊÉë</div>
                            <div style="margin-top: var(--spacing-md);">
                                <span style="background: var(--success-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">ÂèØÁî®</span>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-left" onclick="openModule('analytics')" style="cursor: pointer;">
                            <div class="feature-icon">üìä</div>
                            <div class="feature-title">Êï∞ÊçÆÂàÜÊûê</div>
                            <div class="feature-desc">Â≠¶‰π†Êï∞ÊçÆÂàÜÊûêÂíåÂèØËßÜÂåñÔºåÂ∏ÆÂä©‰∫ÜËß£Â≠¶‰π†ËøõÂ∫¶ÂíåËñÑÂº±ÁéØËäÇ</div>
                            <div style="margin-top: var(--spacing-md);">
                                <span style="background: var(--success-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">ÂèØÁî®</span>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-up" onclick="openModule('upload')" style="cursor: pointer;">
                            <div class="feature-icon">üì§</div>
                            <div class="feature-title">Êñá‰ª∂‰∏ä‰º†</div>
                            <div class="feature-desc">È¢òÂ∫ìÂíåËßÜÈ¢ëÊñá‰ª∂‰∏ä‰º†ÔºåÊô∫ËÉΩÂ§ÑÁêÜÔºåÂ≠¶‰π†ËµÑÊ∫êÁÆ°ÁêÜ</div>
                            <div style="margin-top: var(--spacing-md);">
                                <span style="background: var(--success-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">ÂèØÁî®</span>
                            </div>
                        </div>
                        
                        <div class="feature-card animate-fade-in-right" onclick="openModule('review')" style="cursor: pointer;">
                            <div class="feature-icon">üìù</div>
                            <div class="feature-title">Â§ç‰π†ËÆ°Âàí</div>
                            <div class="feature-desc">‰∏™ÊÄßÂåñÂ§ç‰π†ËÆ°ÂàíÂà∂ÂÆöÔºåÁßëÂ≠¶ÁöÑÂ≠¶‰π†Ë∑ØÂæÑËßÑÂàí</div>
                            <div style="margin-top: var(--spacing-md);">
                                <span style="background: var(--success-gradient); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--button-radius); font-size: 0.9em; color: white;">ÂèØÁî®</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Â≠¶ÁîüÁ´ØÂäüËÉΩÊ®°Âùó -->
                <div id="studentModules" class="modules-grid" style="display: none;">
                    <div class="module-card" onclick="openModule('question-bank')">
                        <div class="module-icon">üìö</div>
                        <div class="module-title">È¢òÂ∫ìÁªÉ‰π†</div>
                        <div class="module-description">
                            Êô∫ËÉΩÈ¢òÂ∫ìÁªÉ‰π†ÔºåÂÖ®Â±èÊ®°ÂºèÔºåÂÆûÊó∂ÂèçÈ¶àÔºåÈîôÈ¢òÊî∂Ëóè
                        </div>
                        <div class="module-status status-available">ÂèØÁî®</div>
                    </div>
                    
                    <div class="module-card" onclick="openModule('video')">
                        <div class="module-icon">üé•</div>
                        <div class="module-title">ËßÜÈ¢ëÂ≠¶‰π†</div>
                        <div class="module-description">
                            Á≤æÈÄâÊµÅ‰ΩìÂäõÂ≠¶ËßÜÈ¢ëËØæÁ®ãÔºåÊîØÊåÅÂÄçÈÄüÊí≠ÊîæÂíåÁ¨îËÆ∞ËÆ∞ÂΩï
                        </div>
                        <div class="module-status status-available">ÂèØÁî®</div>
                    </div>
                    
                    <div class="module-card" onclick="openModule('ai-assistant')">
                        <div class="module-icon">ü§ñ</div>
                        <div class="module-title">AIÂä©Êâã</div>
                        <div class="module-description">
                            Êô∫ËÉΩÁ≠îÁñëÂä©ÊâãÔºåÊèê‰æõÂ≠¶‰π†Âª∫ËÆÆÂíåÁü•ËØÜÁÇπËß£Êûê
                        </div>
                        <div class="module-status status-available">ÂèØÁî®</div>
                    </div>
                    
                    <div class="module-card" onclick="openModule('homework')">
                        <div class="module-icon">üìù</div>
                        <div class="module-title">‰Ωú‰∏öÊèê‰∫§</div>
                        <div class="module-description">
                            Âú®Á∫ø‰Ωú‰∏öÊèê‰∫§Á≥ªÁªüÔºåÊîØÊåÅÂ§öÁßçÊñá‰ª∂Ê†ºÂºèÔºåÂÆûÊó∂Áä∂ÊÄÅË∑üË∏™
                        </div>
                        <div class="module-status status-available">ÂèØÁî®</div>
                    </div>
                    
                    <div class="module-card" onclick="openModule('progress')">
                        <div class="module-icon">üìä</div>
                        <div class="module-title">Â≠¶‰π†ËøõÂ∫¶</div>
                        <div class="module-description">
                            ‰∏™‰∫∫Â≠¶‰π†ËøõÂ∫¶Ë∑üË∏™ÔºåÊàêÁª©ÂàÜÊûêÔºåËñÑÂº±ÁéØËäÇËØÜÂà´
                        </div>
                        <div class="module-status status-available">ÂèØÁî®</div>
                    </div>
                    
                    <div class="module-card" onclick="openModule('review')">
                        <div class="module-icon">üìÖ</div>
                        <div class="module-title">Â§ç‰π†ËÆ°Âàí</div>
                        <div class="module-description">
                            ‰∏™ÊÄßÂåñÂ§ç‰π†ËÆ°ÂàíÔºåÂ≠¶‰π†ÊèêÈÜíÔºåËøõÂ∫¶Ë∑üË∏™
                        </div>
                        <div class="module-status status-available">ÂèØÁî®</div>
                    </div>
                    
                    <div class="module-card" onclick="openModule('notes')">
                        <div class="module-icon">üìñ</div>
                        <div class="module-title">Â≠¶‰π†Á¨îËÆ∞</div>
                        <div class="module-description">
                            Âú®Á∫øÁ¨îËÆ∞Á≥ªÁªüÔºåÊîØÊåÅÂØåÊñáÊú¨ÁºñËæëÔºåÁü•ËØÜÁÇπÊ†áËÆ∞
                        </div>
                        <div class="module-status status-available">ÂèØÁî®</div>
                    </div>
                    
                    <div class="module-card" onclick="openModule('discussion')">
                        <div class="module-icon">üí¨</div>
                        <div class="module-title">ËÆ®ËÆ∫Âå∫</div>
                        <div class="module-description">
                            Â≠¶‰π†ËÆ®ËÆ∫Âå∫Ôºå‰∏éÂêåÂ≠¶‰∫§ÊµÅÔºåÂàÜ‰∫´Â≠¶‰π†ÂøÉÂæó
                        </div>
                        <div class="module-status status-available">ÂèØÁî®</div>
                    </div>
                </div>
            </section>
            
            <!-- ÂàÜÊï∞ÂàÜÊûê -->
            <section id="scoresSection" class="content-section" style="display: none;">
                <div class="score-section">
                    <div class="score-header">
                        <h2><i class="fas fa-chart-line"></i> ÂàÜÊï∞Á∫øÂàÜÊûê</h2>
                        <div class="score-filters">
                            <button class="filter-btn active" onclick="filterScores('all')">ÂÖ®ÈÉ®Âπ¥‰ªΩ</button>
                            <button class="filter-btn" onclick="filterScores('2023')">2023Âπ¥</button>
                            <button class="filter-btn" onclick="filterScores('2024')">2024Âπ¥</button>
                            <button class="filter-btn" onclick="filterScores('2025')">2025Âπ¥</button>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="scoreChart"></canvas>
                    </div>
                    
                    <div class="score-details">
                        <h3><i class="fas fa-info-circle"></i> ÂàÜÊï∞Á∫øËØ¶ÊÉÖ</h3>
                        <div id="scoreDetails">
                            <!-- ÂàÜÊï∞ËØ¶ÊÉÖÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ËÆæÁΩÆ -->
            <section id="settingsSection" class="content-section" style="display: none;">
                <div class="settings-container">
                    <h2><i class="fas fa-cog"></i> Á≥ªÁªüËÆæÁΩÆ</h2>
                    
                    <!-- Áî®Êà∑‰ø°ÊÅØËÆæÁΩÆ -->
                    <div class="settings-card">
                        <h3><i class="fas fa-user"></i> Áî®Êà∑‰ø°ÊÅØ</h3>
                        <div class="settings-content">
                            <div class="user-profile">
                                <div class="profile-avatar" id="profileAvatar">Áî®</div>
                                <div class="profile-info">
                                    <h4 id="profileName">Áî®Êà∑ÂêçÁß∞</h4>
                                    <p id="profileRole">Áî®Êà∑ËßíËâ≤</p>
                                    <p id="profileUsername">Áî®Êà∑Âêç</p>
                                </div>
                            </div>
                            <div class="profile-actions">
                                <button class="settings-btn" onclick="showChangePasswordModal()">
                                    <i class="fas fa-key"></i> ‰øÆÊîπÂØÜÁ†Å
                                </button>
                                <button class="settings-btn" onclick="showProfileEditModal()">
                                    <i class="fas fa-edit"></i> ÁºñËæëËµÑÊñô
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Êï∞ÊçÆÁÆ°ÁêÜ -->
                    <div class="settings-card">
                        <h3><i class="fas fa-database"></i> Êï∞ÊçÆÁÆ°ÁêÜ</h3>
                        <div class="settings-content">
                            <div class="data-actions">
                                <button class="settings-btn" onclick="exportData()">
                                    <i class="fas fa-download"></i> ÂØºÂá∫Â≠¶‰π†Êï∞ÊçÆ
                                </button>
                                <button class="settings-btn" onclick="importData()">
                                    <i class="fas fa-upload"></i> ÂØºÂÖ•Â≠¶‰π†Êï∞ÊçÆ
                                </button>
                                <button class="settings-btn danger" onclick="clearAllData()">
                                    <i class="fas fa-trash"></i> Ê∏ÖÈô§ÊâÄÊúâÊï∞ÊçÆ
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Á≥ªÁªüËÆæÁΩÆ -->
                    <div class="settings-card">
                        <h3><i class="fas fa-sliders-h"></i> Á≥ªÁªüËÆæÁΩÆ</h3>
                        <div class="settings-content">
                            <div class="setting-item">
                                <label class="setting-label">
                                    <input type="checkbox" id="autoSave" checked>
                                    <span class="checkmark"></span>
                                    Ëá™Âä®‰øùÂ≠òÂ≠¶‰π†ËøõÂ∫¶
                                </label>
                            </div>
                            <div class="setting-item">
                                <label class="setting-label">
                                    <input type="checkbox" id="notifications" checked>
                                    <span class="checkmark"></span>
                                    ÂêØÁî®ÈÄöÁü•ÊèêÈÜí
                                </label>
                            </div>
                            <div class="setting-item">
                                <label class="setting-label">
                                    <input type="checkbox" id="darkMode">
                                    <span class="checkmark"></span>
                                    Ê∑±Ëâ≤Ê®°Âºè
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÊïôÂ∏àÁ´ØÊï∞ÊçÆÁõëÊéß -->
                    <div class="settings-card" id="teacherDataCard" style="display: none;">
                        <h3><i class="fas fa-chart-bar"></i> Â≠¶ÁîüÊï∞ÊçÆÁõëÊéß</h3>
                        <div class="settings-content">
                            <div class="teacher-controls">
                                <button class="settings-btn" onclick="showStudentData()">
                                    <i class="fas fa-users"></i> Êü•ÁúãÂ≠¶ÁîüÊï∞ÊçÆ
                                </button>
                                <button class="settings-btn" onclick="exportStudentData()">
                                    <i class="fas fa-download"></i> ÂØºÂá∫Êï∞ÊçÆ
                                </button>
                                <button class="settings-btn" onclick="clearStudentData()">
                                    <i class="fas fa-trash"></i> Ê∏ÖÁ©∫Êï∞ÊçÆ
                                </button>
                            </div>
                            <div id="studentDataDisplay" style="margin-top: 20px; display: none;">
                                <!-- Â≠¶ÁîüÊï∞ÊçÆÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÂÖ≥‰∫éÁ≥ªÁªü -->
                    <div class="settings-card">
                        <h3><i class="fas fa-info-circle"></i> ÂÖ≥‰∫éÁ≥ªÁªü</h3>
                        <div class="settings-content">
                            <div class="about-info" id="aboutInfo">
                                <p><strong>ÁâàÊú¨Ôºö</strong>Enterprise Edition v4.0</p>
                                <p><strong>ÂºÄÂèëËÄÖÔºö</strong>ÂàòÂÖâËæâ</p>
                                <p><strong>ËÅîÁ≥ªÈÇÆÁÆ±Ôºö</strong><span id="contactEmail">liuguanghui6330156@163.com</span></p>
                                <p id="githubLink" style="display: none;"><strong>GitHubÔºö</strong><a href="https://github.com/lghui12138/lghui12138.github.io" target="_blank">È°πÁõÆÂú∞ÂùÄ</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    
    <!-- ÂøòËÆ∞ÂØÜÁ†ÅÊ®°ÊÄÅÊ°Ü -->
    <div id="forgotPasswordModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-key"></i> ÂøòËÆ∞ÂØÜÁ†Å</h3>
                <button onclick="closeForgotPasswordModal()" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div style="background: rgba(255, 193, 7, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
                    <h4 style="color: #856404; margin-bottom: 15px;">üìß ËÅîÁ≥ªÁÆ°ÁêÜÂëò</h4>
                    <p style="color: #856404; margin-bottom: 10px;">ËØ∑ÈÄöËøá‰ª•‰∏ãÊñπÂºèËÅîÁ≥ªÁÆ°ÁêÜÂëòÈáçÁΩÆÂØÜÁ†ÅÔºö</p>
                    <ul style="color: #856404; margin-left: 20px;">
                        <li><strong>ÈÇÆÁÆ±Ôºö</strong><span id="forgotPasswordEmail">2632375915@qq.com</span></li>
                        <li><strong>ÂæÆ‰ø°Ôºö</strong>liuguanghui6330156</li>
                        <li><strong>QQÔºö</strong>6330156</li>
                    </ul>
                </div>
                <div style="text-align: center;">
                    <button onclick="closeForgotPasswordModal()" class="login-btn" style="background: #4facfe;">
                        ËøîÂõûÁôªÂΩï
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ÈÄöÁü•ÂÆπÂô® -->
    <div id="notification-container"></div>
    
    <!-- Âä†ËΩΩÂä®Áîª -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <p class="loading-text">Ê≠£Âú®Âä†ËΩΩ...</p>
        </div>
    </div>
    
    <script>
        // Áî®Êà∑Ë¥¶Âè∑Êï∞ÊçÆ - ‰ªéfluid_dynamic_4.htmlËøÅÁßª
        const USER_ACCOUNTS = {
            'liuguanghui6330156': { 
                name: 'ÂàòÂÖâËæâ', 
                role: 'teacher', 
                password: 'Ll700306', 
                avatar: 'Âàò'
            },
            'student1': { 
                name: 'Â≠¶ÁîüË¥¶Âè∑', 
                role: 'student', 
                password: '123456', 
                avatar: 'Â≠¶'
            },
            'niwenxuan': { 
                name: 'ÂÄ™ÊñáËΩ©', 
                role: 'student', 
                password: 'niwenxuan2025', 
                avatar: 'ÂÄ™'
            },
            'hanwenxu': { 
                name: 'Èü©ÊñáÊó≠', 
                role: 'student', 
                password: 'hanwenxu2025', 
                avatar: 'Èü©'
            }
        };
        
        // ÂàÜÊï∞Á∫øÊï∞ÊçÆ - ‰ªéfluid_dynamic_4.htmlËøÅÁßª
        const scoreData = {
            years: [2020, 2021, 2022, 2023, 2024, 2025],
            reexamScores: [288, 313, 292, 294, 288, 274],    // Â§çËØïÁ∫ø
            nationalScores: [288, 280, 290, 279, 288, 274],  // ÂõΩÂÆ∂Á∫ø
            applicants: [null, null, 110, 105, 120, 125],    // Êä•Âêç‰∫∫Êï∞
            admitted: [null, 29, 35, 27, 37, 35],            // ÂΩïÂèñ‰∫∫Êï∞
            reexamCandidates: [null, 32, 43, 30, 37, 35],    // Â§çËØï‰∫∫Êï∞
            reexamRatio: [null, 1.33, 1.3, 1.2, 1, 1]       // Â§çËØïÊØî‰æã
        };
        
        // ÂÖ®Â±ÄÂèòÈáè
        let currentUser = null;
        let scoreChart = null;
        
        // Áî®Êà∑Â≠¶‰π†Êï∞ÊçÆÂ≠òÂÇ®
        let userLearningData = {};
        
        // ËÆøÈóÆËÄÖÊï∞ÊçÆÔºàÊïôÂ∏àÁ´ØÂèØËßÅÔºâ
        let visitorData = [];
        
        // ÁôªÂΩïÂäüËÉΩ
        async function performLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const loginBtn = document.getElementById('loginBtn');
            const loginBtnText = document.getElementById('loginBtnText');
            
            if (!username || !password) {
                showNotification('ËØ∑ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å', 'error');
                return;
            }
            
            // ÊòæÁ§∫Âä†ËΩΩÂä®Áîª
            showLoading('Ê≠£Âú®È™åËØÅÁôªÂΩï‰ø°ÊÅØ...');
            
            // Á¶ÅÁî®ÁôªÂΩïÊåâÈíÆ
            loginBtn.disabled = true;
            loginBtnText.textContent = 'ÁôªÂΩï‰∏≠...';
            
            try {
                // Ê®°ÊãüÁΩëÁªúÂª∂Ëøü
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // È™åËØÅÁî®Êà∑Âá≠ÊçÆ
                const user = USER_ACCOUNTS[username];
                if (!user || user.password !== password) {
                    throw new Error('Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØ');
                }
                
                // ÁôªÂΩïÊàêÂäü
                currentUser = { ...user, username };
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                // ÈöêËóèÁôªÂΩïÁïåÈù¢ÔºåÊòæÁ§∫‰∏ªÂÜÖÂÆπ
                document.getElementById('loginContainer').style.display = 'none';
                document.getElementById('loggedInContent').classList.add('show');
                
                // Êõ¥Êñ∞Áî®Êà∑‰ø°ÊÅØÊòæÁ§∫
                document.getElementById('userName').textContent = currentUser.name;
                document.getElementById('userAvatar').textContent = currentUser.avatar;
                
                // Êõ¥Êñ∞ËÆæÁΩÆÈ°µÈù¢ÁöÑÁî®Êà∑ËµÑÊñôÊòæÁ§∫
                updateProfileDisplay();
                
                // ÂàùÂßãÂåñÁî®Êà∑Â≠¶‰π†Êï∞ÊçÆ
                initUserLearningData();
                
                // Ê†πÊçÆÁî®Êà∑ËßíËâ≤ËÆæÁΩÆÂäüËÉΩÊ®°ÂùóÊòæÁ§∫
                setupUserModules();
                
                showNotification(`ÁôªÂΩïÊàêÂäüÔºÅÊ¨¢Ëøé ${currentUser.name}`, 'success');
                
                // ÂàùÂßãÂåñ‰∏ªÈ°µ
                initHomePage();
                
                // ÂàùÂßãÂåñÂàÜÊï∞ÂõæË°®
                initScoreChart();
                
                // ÈöêËóèÂä†ËΩΩÂä®Áîª
                hideLoading();
                
            } catch (error) {
                hideLoading();
                showNotification(error.message, 'error');
            } finally {
                // ÊÅ¢Â§çÁôªÂΩïÊåâÈíÆ
                loginBtn.disabled = false;
                loginBtnText.textContent = 'ÁôªÂΩï';
            }
        }
        
        // ÈÄÄÂá∫ÁôªÂΩï
        function logout() {
            if (!confirm('Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü')) return;
            
            currentUser = null;
            localStorage.removeItem('currentUser');
            
            // ÈöêËóè‰∏ªÂÜÖÂÆπÔºåÊòæÁ§∫ÁôªÂΩïÁïåÈù¢
            document.getElementById('loggedInContent').classList.remove('show');
            document.getElementById('loginContainer').style.display = 'flex';
            
            // Ê∏ÖÁ©∫ËæìÂÖ•Ê°Ü
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            
            showNotification('Â∑≤ÈÄÄÂá∫ÁôªÂΩï', 'info');
        }
        
        // ÊòæÁ§∫/ÈöêËóèÂä†ËΩΩÂä®Áîª
        function showLoading(text = 'Ê≠£Âú®Âä†ËΩΩ...') {
            const overlay = document.getElementById('loadingOverlay');
            const loadingText = overlay.querySelector('.loading-text');
            if (loadingText) {
                loadingText.textContent = text;
            }
            overlay.style.display = 'flex';
        }
        
        function hideLoading() {
            const overlay = document.getElementById('loadingOverlay');
            overlay.style.display = 'none';
        }
        
        // ÊòæÁ§∫ÈÄöÁü•
        function showNotification(message, type = 'info', duration = 3000) {
            const container = document.getElementById('notification-container');
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                ${message}
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            if (duration > 0) {
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.remove();
                        }
                    }, 300);
                }, duration);
            }
        }
        
        // ÂØºËà™ÂäüËÉΩ
        function showSection(sectionName) {
            console.log('showSection Ë¢´Ë∞ÉÁî®:', sectionName);
            
            // ÈöêËóèÊâÄÊúâsection
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // ÊòæÁ§∫ÊåáÂÆösection
            const targetSection = document.getElementById(sectionName + 'Section');
            if (targetSection) {
                targetSection.style.display = 'block';
                console.log('ÊòæÁ§∫section:', sectionName + 'Section');
            } else {
                console.error('Êú™ÊâæÂà∞section:', sectionName + 'Section');
            }
            
            // Êõ¥Êñ∞ÂØºËà™ÈìæÊé•Áä∂ÊÄÅ
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // ÊøÄÊ¥ªÂΩìÂâçÂØºËà™ÈìæÊé•
            const activeLink = document.querySelector(`[onclick="showSection('${sectionName}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            // Â¶ÇÊûúÊòæÁ§∫ÂäüËÉΩÊ®°ÂùóÈ°µÈù¢ÔºåÈáçÊñ∞ËÆæÁΩÆÁî®Êà∑Ê®°Âùó
            if (sectionName === 'modules') {
                console.log('ÊòæÁ§∫ÂäüËÉΩÊ®°ÂùóÈ°µÈù¢ÔºåÈáçÊñ∞ËÆæÁΩÆÁî®Êà∑Ê®°Âùó');
                setTimeout(() => {
                    setupUserModules();
                }, 100);
            }
            
            // Â¶ÇÊûúÊòæÁ§∫ÂàÜÊï∞ÂàÜÊûêÈ°µÈù¢ÔºåÈáçÊñ∞ÂàùÂßãÂåñÂõæË°®
            if (sectionName === 'scores') {
                setTimeout(() => {
                    initScoreChart();
                }, 100);
            }
        }
        
        // ÊâìÂºÄÊ®°Âùó
        function openModule(moduleName) {
            // Ê∑ªÂä†Ëß¶Êë∏ÂèçÈ¶à
            const element = event.target.closest('[onclick*="openModule"]');
            if (element) {
                element.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    element.style.transform = '';
                }, 150);
            }
            
            const moduleUrls = {
                // ÈÄöÁî®Ê®°Âùó
                'question-bank': 'modules/question-bank.html',
                'video': 'modules/video-module.html',
                'ai-assistant': 'modules/ai-assistant-module.html',
                'review': 'modules/review-module.html',
                'grade': 'modules/grade-module.html',
                
                // ÊïôÂ∏àÁ´ØÊ®°Âùó
                'analytics': 'modules/analytics-module.html',
                'upload': 'modules/upload-module.html',
                'simulation': 'modules/simulation-module.html',
                
                // Â≠¶ÁîüÁ´ØÊ®°Âùó
                'homework': 'modules/homework-module.html',
                'progress': 'modules/progress-module.html',
                'notes': 'modules/notes-module.html',
                'discussion': 'modules/discussion-module.html',
                'video-enhanced': 'modules/video-enhanced-module.html'
            };
            
            const url = moduleUrls[moduleName];
            if (url) {
                showNotification(`Ê≠£Âú®ÊâìÂºÄ${moduleName}Ê®°Âùó...`, 'info');
                
                // Ê£ÄÊü•Êñá‰ª∂ÊòØÂê¶Â≠òÂú®
                fetch(url, { method: 'HEAD' })
                    .then(response => {
                        if (response.ok) {
                            // Âú®ÁßªÂä®Á´Ø‰ΩøÁî®Êñ∞Á™óÂè£ÊâìÂºÄ
                            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                                window.location.href = url;
                            } else {
                                window.open(url, '_blank');
                            }
                        } else {
                            showNotification('Ê®°ÂùóÊñá‰ª∂‰∏çÂ≠òÂú®ÔºåÊ≠£Âú®ÂàõÂª∫...', 'warning');
                            // ÂèØ‰ª•Âú®ËøôÈáåÂàõÂª∫ÈªòËÆ§Ê®°ÂùóÈ°µÈù¢
                        }
                    })
                    .catch(error => {
                        console.error('Ê®°ÂùóËÆøÈóÆÈîôËØØ:', error);
                        showNotification('Ê®°ÂùóËÆøÈóÆÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•', 'error');
                    });
            } else {
                showNotification('Ê®°ÂùóÊ≠£Âú®ÂºÄÂèë‰∏≠...', 'info');
            }
        }
        
        // Ê†πÊçÆÁî®Êà∑ËßíËâ≤ËÆæÁΩÆÂäüËÉΩÊ®°ÂùóÊòæÁ§∫
        function setupUserModules() {
            console.log('setupUserModules Ë¢´Ë∞ÉÁî®');
            console.log('currentUser:', currentUser);
            
            const teacherModules = document.getElementById('teacherModules');
            const studentModules = document.getElementById('studentModules');
            
            console.log('teacherModules:', teacherModules);
            console.log('studentModules:', studentModules);
            
            if (currentUser && currentUser.role === 'teacher') {
                if (teacherModules) {
                    teacherModules.style.display = 'grid';
                    console.log('ÊòæÁ§∫ÊïôÂ∏àÁ´ØÂäüËÉΩÊ®°Âùó');
                }
                if (studentModules) {
                    studentModules.style.display = 'none';
                }
            } else if (currentUser && currentUser.role === 'student') {
                if (teacherModules) {
                    teacherModules.style.display = 'none';
                }
                if (studentModules) {
                    studentModules.style.display = 'grid';
                    console.log('ÊòæÁ§∫Â≠¶ÁîüÁ´ØÂäüËÉΩÊ®°Âùó');
                }
            } else {
                // ÈªòËÆ§ÈöêËóèÊâÄÊúâÊ®°Âùó
                if (teacherModules) teacherModules.style.display = 'none';
                if (studentModules) studentModules.style.display = 'none';
                console.log('Êú™ÊâæÂà∞Áî®Êà∑‰ø°ÊÅØÔºåÈöêËóèÊâÄÊúâÊ®°Âùó');
            }
        }
        
        // ÂøòËÆ∞ÂØÜÁ†ÅÂäüËÉΩ
        function showForgotPasswordModal() {
            document.getElementById('forgotPasswordModal').style.display = 'flex';
        }
        
        function closeForgotPasswordModal() {
            document.getElementById('forgotPasswordModal').style.display = 'none';
        }
        
        // ‰øÆÊîπÂØÜÁ†ÅÂäüËÉΩ
        function showChangePasswordModal() {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>‰øÆÊîπÂØÜÁ†Å</h3>
                        <button onclick="closeChangePasswordModal()" class="close-btn">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label>ÂΩìÂâçÂØÜÁ†Å</label>
                            <input type="password" id="currentPassword" placeholder="ËØ∑ËæìÂÖ•ÂΩìÂâçÂØÜÁ†Å">
                        </div>
                        <div class="form-group">
                            <label>Êñ∞ÂØÜÁ†Å</label>
                            <input type="password" id="newPassword" placeholder="ËØ∑ËæìÂÖ•Êñ∞ÂØÜÁ†Å">
                        </div>
                        <div class="form-group">
                            <label>Á°ÆËÆ§Êñ∞ÂØÜÁ†Å</label>
                            <input type="password" id="confirmPassword" placeholder="ËØ∑ÂÜçÊ¨°ËæìÂÖ•Êñ∞ÂØÜÁ†Å">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button onclick="closeChangePasswordModal()" class="btn-secondary">ÂèñÊ∂à</button>
                        <button onclick="changePassword()" class="btn-primary">Á°ÆËÆ§‰øÆÊîπ</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function closeChangePasswordModal() {
            const modal = document.querySelector('.modal-overlay');
            if (modal) {
                modal.remove();
            }
        }
        
        function changePassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (!currentPassword || !newPassword || !confirmPassword) {
                showNotification('ËØ∑Â°´ÂÜôÊâÄÊúâÂ≠óÊÆµ', 'error');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showNotification('‰∏§Ê¨°ËæìÂÖ•ÁöÑÊñ∞ÂØÜÁ†Å‰∏ç‰∏ÄËá¥', 'error');
                return;
            }
            
            if (newPassword.length < 6) {
                showNotification('Êñ∞ÂØÜÁ†ÅÈïøÂ∫¶Ëá≥Â∞ë6‰Ωç', 'error');
                return;
            }
            
            // È™åËØÅÂΩìÂâçÂØÜÁ†Å
            const user = USER_ACCOUNTS.find(u => u.username === currentUser.username);
            if (user && user.password === currentPassword) {
                // Êõ¥Êñ∞ÂØÜÁ†Å
                user.password = newPassword;
                showNotification('ÂØÜÁ†Å‰øÆÊîπÊàêÂäüÔºÅ', 'success');
                closeChangePasswordModal();
            } else {
                showNotification('ÂΩìÂâçÂØÜÁ†ÅÈîôËØØ', 'error');
            }
        }
        
        // ÁºñËæëËµÑÊñôÂäüËÉΩ
        function showProfileEditModal() {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>ÁºñËæë‰∏™‰∫∫ËµÑÊñô</h3>
                        <button onclick="closeProfileEditModal()" class="close-btn">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label>ÂßìÂêç</label>
                            <input type="text" id="editName" value="${currentUser.name}" placeholder="ËØ∑ËæìÂÖ•ÂßìÂêç">
                        </div>
                        <div class="form-group">
                            <label>ÈÇÆÁÆ±</label>
                            <input type="email" id="editEmail" value="${currentUser.email || ''}" placeholder="ËØ∑ËæìÂÖ•ÈÇÆÁÆ±">
                        </div>
                        <div class="form-group">
                            <label>ÊâãÊú∫Âè∑</label>
                            <input type="tel" id="editPhone" value="${currentUser.phone || ''}" placeholder="ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑">
                        </div>
                        <div class="form-group">
                            <label>‰∏™‰∫∫ÁÆÄ‰ªã</label>
                            <textarea id="editBio" placeholder="ËØ∑ËæìÂÖ•‰∏™‰∫∫ÁÆÄ‰ªã">${currentUser.bio || ''}</textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button onclick="closeProfileEditModal()" class="btn-secondary">ÂèñÊ∂à</button>
                        <button onclick="saveProfile()" class="btn-primary">‰øùÂ≠ò</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function closeProfileEditModal() {
            const modal = document.querySelector('.modal-overlay');
            if (modal) {
                modal.remove();
            }
        }
        
        function saveProfile() {
            const name = document.getElementById('editName').value;
            const email = document.getElementById('editEmail').value;
            const phone = document.getElementById('editPhone').value;
            const bio = document.getElementById('editBio').value;
            
            if (!name.trim()) {
                showNotification('ÂßìÂêç‰∏çËÉΩ‰∏∫Á©∫', 'error');
                return;
            }
            
            // Êõ¥Êñ∞Áî®Êà∑‰ø°ÊÅØ
            currentUser.name = name;
            currentUser.email = email;
            currentUser.phone = phone;
            currentUser.bio = bio;
            
            // Êõ¥Êñ∞ÊòæÁ§∫
            updateUserInterface();
            showNotification('‰∏™‰∫∫ËµÑÊñô‰øùÂ≠òÊàêÂäüÔºÅ', 'success');
            closeProfileEditModal();
        }
        
        // Êõ¥Êñ∞Áî®Êà∑ËµÑÊñôÊòæÁ§∫
        function updateProfileDisplay() {
            if (currentUser) {
                document.getElementById('profileAvatar').textContent = currentUser.avatar;
                document.getElementById('profileName').textContent = currentUser.name;
                document.getElementById('profileRole').textContent = currentUser.role === 'teacher' ? 'ÊïôÂ∏à' : 'Â≠¶Áîü';
                document.getElementById('profileUsername').textContent = currentUser.username;
                
                // ÊòæÁ§∫/ÈöêËóèÊïôÂ∏àÁ´ØÊï∞ÊçÆÁõëÊéß
                const teacherDataCard = document.getElementById('teacherDataCard');
                if (teacherDataCard) {
                    teacherDataCard.style.display = currentUser.role === 'teacher' ? 'block' : 'none';
                }
                
                // Ê†πÊçÆÁî®Êà∑ËßíËâ≤ËÆæÁΩÆËÅîÁ≥ª‰ø°ÊÅØ
                updateContactInfo();
            }
        }
        
        // Ê†πÊçÆÁî®Êà∑ËßíËâ≤Êõ¥Êñ∞ËÅîÁ≥ª‰ø°ÊÅØ
        function updateContactInfo() {
            const contactEmail = document.getElementById('contactEmail');
            const githubLink = document.getElementById('githubLink');
            const forgotPasswordEmail = document.getElementById('forgotPasswordEmail');
            
            if (currentUser.role === 'teacher') {
                // ÊïôÂ∏àÁ´ØÊòæÁ§∫ÂÆåÊï¥‰ø°ÊÅØ
                contactEmail.textContent = 'liuguanghui6330156@163.com';
                if (forgotPasswordEmail) forgotPasswordEmail.textContent = 'liuguanghui6330156@163.com';
                githubLink.style.display = 'block';
            } else {
                // Â≠¶ÁîüÁ´ØÊòæÁ§∫Â≠¶Áîü‰∏ìÁî®ËÅîÁ≥ªÈÇÆÁÆ±ÔºåÈöêËóèGitHubÈìæÊé•
                contactEmail.textContent = '2632375915@qq.com';
                if (forgotPasswordEmail) forgotPasswordEmail.textContent = '2632375915@qq.com';
                githubLink.style.display = 'none';
            }
        }
        
        // ÂàùÂßãÂåñ‰∏ªÈ°µ
        function initHomePage() {
            // ÂàùÂßãÂåñ‰∏ªÈ°µÂàÜÊï∞ÂõæË°®
            initHomeScoreChart();
            
            // Êõ¥Êñ∞Â≠¶‰π†ËøõÂ∫¶
            updateLearningProgress();
            
            // Êõ¥Êñ∞ÁªüËÆ°Êï∞ÊçÆ
            updateHomeStats();
        }
        
        // ÂàùÂßãÂåñ‰∏ªÈ°µÂàÜÊï∞ÂõæË°®
        function initHomeScoreChart() {
            const ctx = document.getElementById('homeScoreChart');
            if (!ctx) return;
            
            // Ê£ÄÊü•Chart.jsÊòØÂê¶Â∑≤Âä†ËΩΩ
            if (typeof Chart === 'undefined') {
                setTimeout(initHomeScoreChart, 500);
                return;
            }
            
            // ÈîÄÊØÅÂ∑≤Â≠òÂú®ÁöÑÂõæË°®ÂÆû‰æã
            if (window.homeScoreChartInstance) {
                window.homeScoreChartInstance.destroy();
            }
            
            window.homeScoreChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: scoreData.years,
                    datasets: [
                        {
                            label: 'Â§çËØïÁ∫ø',
                            data: scoreData.reexamScores,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.15)',
                            tension: 0.4,
                            borderWidth: 3,
                            pointBackgroundColor: '#e74c3c',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointRadius: 6,
                            pointHoverRadius: 8
                        },
                        {
                            label: 'ÂõΩÂÆ∂Á∫ø',
                            data: scoreData.nationalScores,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.15)',
                            tension: 0.4,
                            borderWidth: 3,
                            pointBackgroundColor: '#3498db',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointRadius: 6,
                            pointHoverRadius: 8
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: {
                        duration: 2000,
                        easing: 'easeInOutQuart'
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 15,
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: '#3498db',
                            borderWidth: 1,
                            cornerRadius: 8,
                            displayColors: true
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 270,
                            max: 320,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.08)',
                                lineWidth: 1
                            },
                            ticks: {
                                font: {
                                    size: 11,
                                    weight: '500'
                                },
                                color: '#666'
                            },
                            title: {
                                display: true,
                                text: 'ÂàÜÊï∞Á∫ø',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                },
                                color: '#333'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.08)',
                                lineWidth: 1
                            },
                            ticks: {
                                font: {
                                    size: 11,
                                    weight: '500'
                                },
                                color: '#666'
                            },
                            title: {
                                display: true,
                                text: 'Âπ¥‰ªΩ',
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                },
                                color: '#333'
                            }
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    },
                    elements: {
                        point: {
                            hoverBackgroundColor: '#fff',
                            hoverBorderColor: '#3498db',
                            hoverBorderWidth: 3
                        }
                    }
                }
            });
        }
        
        // Êõ¥Êñ∞Â≠¶‰π†ËøõÂ∫¶
        function updateLearningProgress() {
            if (!currentUser || !userLearningData) return;
            
            // ËÆ°ÁÆóÂÆûÈôÖÂ≠¶‰π†ËøõÂ∫¶
            const totalItems = 20; // È¢ÑËÆæÊÄªÂ≠¶‰π†È°πÁõÆÊï∞
            const completedItems = userLearningData.completedQuestions + userLearningData.watchedVideos;
            const progress = Math.min(Math.round((completedItems / totalItems) * 100), 100);
            
            document.getElementById('learningProgress').textContent = progress + '%';
            document.getElementById('completedItems').textContent = completedItems;
            document.getElementById('totalItems').textContent = totalItems;
            
            // Âä®ÁîªÊòæÁ§∫ËøõÂ∫¶Êù°
            setTimeout(() => {
                document.getElementById('progressFill').style.width = progress + '%';
            }, 500);
            
            // Êõ¥Êñ∞Â≠¶‰π†ËøõÂ∫¶ÂõæË°®
            updateLearningChart();
        }
        
        // Êõ¥Êñ∞Â≠¶‰π†ËøõÂ∫¶ÂõæË°®
        function updateLearningChart() {
            if (!currentUser || !userLearningData) return;
            
            const ctx = document.getElementById('learningChart');
            if (!ctx) return;
            
            // Ê£ÄÊü•Chart.jsÊòØÂê¶Â∑≤Âä†ËΩΩ
            if (typeof Chart === 'undefined') {
                setTimeout(updateLearningChart, 500);
                return;
            }
            
            // ÈîÄÊØÅÁé∞ÊúâÂõæË°®
            if (window.learningChart && typeof window.learningChart.destroy === 'function') {
                window.learningChart.destroy();
            }
            
            const learningData = {
                labels: ['È¢òÁõÆÁªÉ‰π†', 'ËßÜÈ¢ëÂ≠¶‰π†', 'AIÈóÆÁ≠î', 'Â§ç‰π†ËÆ°Âàí'],
                datasets: [{
                    label: 'ÂÆåÊàêÊÉÖÂÜµ',
                    data: [
                        userLearningData.completedQuestions || 0,
                        userLearningData.watchedVideos || 0,
                        userLearningData.aiQuestions || 0,
                        userLearningData.reviewPlans || 0
                    ],
                    backgroundColor: [
                        'rgba(231, 76, 60, 0.8)',
                        'rgba(52, 152, 219, 0.8)',
                        'rgba(46, 204, 113, 0.8)',
                        'rgba(155, 89, 182, 0.8)'
                    ],
                    borderColor: [
                        '#e74c3c',
                        '#3498db',
                        '#2ecc71',
                        '#9b59b6'
                    ],
                    borderWidth: 2,
                    borderRadius: 8
                }]
            };
            
            // ÈîÄÊØÅÂ∑≤Â≠òÂú®ÁöÑÂ≠¶‰π†ÂõæË°®ÂÆû‰æã
            if (window.learningChart && typeof window.learningChart.destroy === 'function') {
                window.learningChart.destroy();
            }
            
            window.learningChart = new Chart(ctx, {
                type: 'doughnut',
                data: learningData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                usePointStyle: true,
                                font: {
                                    size: 11
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const label = context.label || '';
                                    const value = context.parsed;
                                    return `${label}: ${value} Ê¨°`;
                                }
                            }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        duration: 1500
                    }
                }
            });
        }
        
        // Áî®Êà∑Â≠¶‰π†Êï∞ÊçÆÁÆ°ÁêÜ
        function initUserLearningData() {
            if (!currentUser) return;
            
            const savedData = localStorage.getItem(`userData_${currentUser.username}`);
            if (savedData) {
                userLearningData = JSON.parse(savedData);
            } else {
                // ÂàùÂßãÂåñÊñ∞Áî®Êà∑Êï∞ÊçÆ
                userLearningData = {
                    username: currentUser.username,
                    name: currentUser.name,
                    role: currentUser.role,
                    totalQuestions: 0,
                    completedQuestions: 0,
                    totalVideos: 0,
                    watchedVideos: 0,
                    studyTime: 0, // Â≠¶‰π†Êó∂ÈïøÔºàÂàÜÈíüÔºâ
                    lastLogin: new Date().toISOString(),
                    questionHistory: [],
                    videoHistory: [],
                    loginCount: 1
                };
                saveUserLearningData();
            }
            
            // Êõ¥Êñ∞ÁôªÂΩïÊ¨°Êï∞
            userLearningData.loginCount++;
            userLearningData.lastLogin = new Date().toISOString();
            saveUserLearningData();
        }
        
        function saveUserLearningData() {
            if (currentUser) {
                localStorage.setItem(`userData_${currentUser.username}`, JSON.stringify(userLearningData));
            }
        }
        
        function updateUserProgress(type, data) {
            if (!currentUser) return;
            
            switch (type) {
                case 'question_completed':
                    userLearningData.completedQuestions++;
                    userLearningData.questionHistory.push({
                        questionId: data.questionId,
                        timestamp: new Date().toISOString(),
                        correct: data.correct
                    });
                    break;
                case 'video_watched':
                    userLearningData.watchedVideos++;
                    userLearningData.videoHistory.push({
                        videoId: data.videoId,
                        timestamp: new Date().toISOString(),
                        duration: data.duration
                    });
                    break;
                case 'study_time':
                    userLearningData.studyTime += data.minutes;
                    break;
            }
            
            saveUserLearningData();
            updateLearningProgress();
        }
        
        // Êõ¥Êñ∞‰∏ªÈ°µÁªüËÆ°Êï∞ÊçÆ
        function updateHomeStats() {
            if (!currentUser) return;
            
            // Á≥ªÁªüÊÄªËµÑÊ∫êÊï∞ÈáèÔºàÂõ∫ÂÆöÂÄºÔºâ
            const systemStats = {
                totalQuestions: 200,  // Á≥ªÁªüÊÄªÈ¢òÁõÆÊï∞
                totalVideos: 30,      // Á≥ªÁªüÊÄªËßÜÈ¢ëÊï∞
            };
            
            // Âõ∫ÂÆöÊ≥®ÂÜåÁî®Êà∑Êï∞Èáè‰∏∫5‰∫∫
            const registeredUsers = 5;
            
            // Ê†πÊçÆÁî®Êà∑ËßíËâ≤ÊòæÁ§∫‰∏çÂêåÁöÑÁªüËÆ°Êï∞ÊçÆ
            if (currentUser.role === 'teacher') {
                // ÊïôÂ∏àÁ´ØÊòæÁ§∫ÂÖ®Â±ÄÁªüËÆ°
                document.getElementById('totalQuestions').textContent = systemStats.totalQuestions + '+';
                document.getElementById('totalVideos').textContent = systemStats.totalVideos + '+';
                document.getElementById('activeUsers').textContent = registeredUsers + ' ‰∫∫';
            } else {
                // Â≠¶ÁîüÁ´ØÊòæÁ§∫ÔºöÁ≥ªÁªüÊÄªËµÑÊ∫ê + Ê≥®ÂÜåÁî®Êà∑Êï∞Èáè
                document.getElementById('totalQuestions').textContent = systemStats.totalQuestions + '+';
                document.getElementById('totalVideos').textContent = systemStats.totalVideos + '+';
                document.getElementById('activeUsers').textContent = registeredUsers + ' ‰∫∫';
            }
        }
        
        // Ëé∑ÂèñÊâÄÊúâÁî®Êà∑Êï∞ÊçÆÔºàÊïôÂ∏àÁ´ØÂäüËÉΩÔºâ
        function getAllUserData() {
            const allData = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && key.startsWith('userData_')) {
                    try {
                        const userData = JSON.parse(localStorage.getItem(key));
                        allData.push(userData);
                    } catch (e) {
                        console.error('Ëß£ÊûêÁî®Êà∑Êï∞ÊçÆÂ§±Ë¥•:', e);
                    }
                }
            }
            return allData;
        }
        
        // ÊïôÂ∏àÁ´ØÊï∞ÊçÆÁõëÊéßÂäüËÉΩ
        function showStudentData() {
            const display = document.getElementById('studentDataDisplay');
            const allUserData = getAllUserData();
            const studentData = allUserData.filter(user => user.role === 'student');
            
            if (studentData.length === 0) {
                display.innerHTML = '<p style="color: #666; text-align: center;">ÊöÇÊó†Â≠¶ÁîüÊï∞ÊçÆ</p>';
                display.style.display = 'block';
                return;
            }
            
            let html = `
                <div class="student-data-table">
                    <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                        <thead>
                            <tr style="background: var(--ocean-light); color: white;">
                                <th style="padding: 12px; text-align: left; border-radius: 8px 0 0 0;">Â≠¶ÁîüÂßìÂêç</th>
                                <th style="padding: 12px; text-align: center;">ÂÅöÈ¢òÊ¨°Êï∞</th>
                                <th style="padding: 12px; text-align: center;">ÂÅöÈ¢òÊó∂Èïø</th>
                                <th style="padding: 12px; text-align: center;">ËßÇÁúãËßÜÈ¢ë</th>
                                <th style="padding: 12px; text-align: center;">ÊúÄÂêéÁôªÂΩï</th>
                                <th style="padding: 12px; text-align: center; border-radius: 0 8px 0 0;">Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            
            studentData.forEach(student => {
                const studyHours = Math.floor(student.studyTime / 60);
                const studyMinutes = student.studyTime % 60;
                const lastLogin = new Date(student.lastLogin).toLocaleString('zh-CN');
                
                html += `
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 12px; font-weight: bold; color: var(--ocean-blue);">${student.name}</td>
                        <td style="padding: 12px; text-align: center;">${student.completedQuestions} È¢ò</td>
                        <td style="padding: 12px; text-align: center;">${studyHours}Â∞èÊó∂${studyMinutes}ÂàÜÈíü</td>
                        <td style="padding: 12px; text-align: center;">${student.watchedVideos} ‰∏™</td>
                        <td style="padding: 12px; text-align: center; font-size: 0.9em; color: #666;">${lastLogin}</td>
                        <td style="padding: 12px; text-align: center;">
                            <button class="settings-btn" style="padding: 6px 12px; font-size: 0.8em;" onclick="viewStudentDetail('${student.username}')">
                                ËØ¶ÊÉÖ
                            </button>
                        </td>
                    </tr>
                `;
            });
            
            html += `
                        </tbody>
                    </table>
                </div>
            `;
            
            display.innerHTML = html;
            display.style.display = 'block';
        }
        
        function viewStudentDetail(username) {
            const userData = JSON.parse(localStorage.getItem(`userData_${username}`));
            if (!userData) return;
            
            const detailHtml = `
                <div style="background: rgba(79, 172, 254, 0.1); padding: 20px; border-radius: 15px; margin-top: 15px;">
                    <h4 style="color: var(--ocean-blue); margin-bottom: 15px;">${userData.name} ÁöÑËØ¶ÁªÜÊï∞ÊçÆ</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div>
                            <strong>Áî®Êà∑ÂêçÔºö</strong> ${userData.username}
                        </div>
                        <div>
                            <strong>ÁôªÂΩïÊ¨°Êï∞Ôºö</strong> ${userData.loginCount} Ê¨°
                        </div>
                        <div>
                            <strong>ÂÆåÊàêÈ¢òÁõÆÔºö</strong> ${userData.completedQuestions} È¢ò
                        </div>
                        <div>
                            <strong>ËßÇÁúãËßÜÈ¢ëÔºö</strong> ${userData.watchedVideos} ‰∏™
                        </div>
                        <div>
                            <strong>Â≠¶‰π†Êó∂ÈïøÔºö</strong> ${Math.floor(userData.studyTime / 60)}Â∞èÊó∂${userData.studyTime % 60}ÂàÜÈíü
                        </div>
                        <div>
                            <strong>ÊúÄÂêéÁôªÂΩïÔºö</strong> ${new Date(userData.lastLogin).toLocaleString('zh-CN')}
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <button class="settings-btn" onclick="document.getElementById('studentDataDisplay').style.display = 'none'">
                            ËøîÂõûÂàóË°®
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('studentDataDisplay').innerHTML = detailHtml;
        }
        
        function exportStudentData() {
            const allUserData = getAllUserData();
            const studentData = allUserData.filter(user => user.role === 'student');
            
            if (studentData.length === 0) {
                showNotification('ÊöÇÊó†Â≠¶ÁîüÊï∞ÊçÆÂèØÂØºÂá∫', 'warning');
                return;
            }
            
            const exportData = {
                exportTime: new Date().toISOString(),
                totalStudents: studentData.length,
                students: studentData
            };
            
            const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Â≠¶ÁîüÊï∞ÊçÆ_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Â≠¶ÁîüÊï∞ÊçÆÂØºÂá∫ÊàêÂäü', 'success');
        }
        
        function clearStudentData() {
            if (!confirm('Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÂ≠¶ÁîüÊï∞ÊçÆÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºÅ')) return;
            
            const keysToRemove = [];
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key && key.startsWith('userData_')) {
                    const userData = JSON.parse(localStorage.getItem(key));
                    if (userData.role === 'student') {
                        keysToRemove.push(key);
                    }
                }
            }
            
            keysToRemove.forEach(key => localStorage.removeItem(key));
            
            showNotification('Â≠¶ÁîüÊï∞ÊçÆÂ∑≤Ê∏ÖÁ©∫', 'success');
            showStudentData(); // Âà∑Êñ∞ÊòæÁ§∫
        }
        
        // ÂàùÂßãÂåñÂàÜÊï∞ÂõæË°®
        function initScoreChart() {
            const ctx = document.getElementById('scoreChart');
            if (!ctx) {
                console.log('ÂàÜÊï∞ÂõæË°®ÂÆπÂô®Êú™ÊâæÂà∞');
                return;
            }
            
            // Ê£ÄÊü•Chart.jsÊòØÂê¶Â∑≤Âä†ËΩΩ
            if (typeof Chart === 'undefined') {
                console.log('Chart.jsÊú™Âä†ËΩΩÔºåÁ≠âÂæÖÂä†ËΩΩ...');
                setTimeout(initScoreChart, 500);
                return;
            }
            
            if (scoreChart) {
                scoreChart.destroy();
            }
            
            console.log('ÂºÄÂßãÂàùÂßãÂåñÂàÜÊï∞ÂõæË°®...');
            console.log('ÂàÜÊï∞Êï∞ÊçÆ:', scoreData);
            
            scoreChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: scoreData.years,
                    datasets: [
                        {
                            label: 'Â§çËØïÁ∫ø',
                            data: scoreData.reexamScores,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            tension: 0.4
                        },
                        {
                            label: 'ÂõΩÂÆ∂Á∫ø',
                            data: scoreData.nationalScores,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: {
                        duration: 1000,
                        easing: 'easeInOutQuart'
                    },
                    plugins: {
                        title: {
                            display: true,
                            text: '803ÊµÅ‰ΩìÂäõÂ≠¶ÂàÜÊï∞Á∫øË∂ãÂäø (2020-2025)',
                            color: '#2c3e50',
                            font: {
                                size: 18,
                                weight: 'bold'
                            },
                            padding: 20
                        },
                        legend: {
                            position: 'top',
                            labels: {
                                usePointStyle: true,
                                padding: 20,
                                font: {
                                    size: 14
                                }
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: 'white',
                            bodyColor: 'white',
                            borderColor: '#4facfe',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 270,
                            max: 320,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            title: {
                                display: true,
                                text: 'ÂàÜÊï∞',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                font: {
                                    size: 12
                                }
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            title: {
                                display: true,
                                text: 'Âπ¥‰ªΩ',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    }
                }
            });
            
            updateScoreDetails('all');
            console.log('ÂàÜÊï∞ÂõæË°®ÂàùÂßãÂåñÂÆåÊàê');
            
            // Âº∫Âà∂ÈáçÁªòÂõæË°®
            setTimeout(() => {
                if (scoreChart) {
                    scoreChart.resize();
                    console.log('ÂõæË°®Â∑≤ÈáçÁªò');
                }
            }, 100);
        }
        
        // Á≠õÈÄâÂàÜÊï∞
        function filterScores(year) {
            // Êõ¥Êñ∞Á≠õÈÄâÊåâÈíÆÁä∂ÊÄÅ
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateScoreDetails(year);
            showNotification(`ÊòæÁ§∫${year === 'all' ? 'ÂÖ®ÈÉ®' : year}Âπ¥ÂàÜÊï∞Á∫øÊï∞ÊçÆ`, 'info');
        }
        
        // Êõ¥Êñ∞ÂàÜÊï∞ËØ¶ÊÉÖ
        function updateScoreDetails(year) {
            const detailsContainer = document.getElementById('scoreDetails');
            if (!detailsContainer) return;
            
            let details = '';
            
            if (year === 'all') {
                details = `
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div style="background: rgba(231, 76, 60, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid #e74c3c;">
                            <h4>ÊúÄÈ´òÂ§çËØïÁ∫ø</h4>
                            <p style="font-size: 1.5rem; font-weight: bold; color: #e74c3c;">313ÂàÜ (2021Âπ¥)</p>
                        </div>
                        <div style="background: rgba(52, 152, 219, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid #3498db;">
                            <h4>ÊúÄ‰ΩéÂõΩÂÆ∂Á∫ø</h4>
                            <p style="font-size: 1.5rem; font-weight: bold; color: #3498db;">274ÂàÜ (2025Âπ¥)</p>
                        </div>
                        <div style="background: rgba(46, 204, 113, 0.1); padding: 15px; border-radius: 10px; border-left: 4px solid #2ecc71;">
                            <h4>Âπ≥ÂùáÂΩïÂèñÁéá</h4>
                            <p style="font-size: 1.5rem; font-weight: bold; color: #2ecc71;">28.5%</p>
                        </div>
                    </div>
                `;
            } else {
                const yearData = {
                    '2023': { reexam: 294, national: 279, applicants: 105, admitted: 27 },
                    '2024': { reexam: 288, national: 288, applicants: 120, admitted: 37 },
                    '2025': { reexam: 274, national: 274, applicants: 125, admitted: 35 }
                };
                
                const data = yearData[year];
                if (data) {
                    details = `
                        <div style="background: rgba(79, 172, 254, 0.1); padding: 20px; border-radius: 15px; margin-top: 20px;">
                            <h4>${year}Âπ¥ËØ¶ÁªÜÊï∞ÊçÆ</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                                <div>
                                    <strong>Â§çËØïÁ∫øÔºö</strong> ${data.reexam}ÂàÜ
                                </div>
                                <div>
                                    <strong>ÂõΩÂÆ∂Á∫øÔºö</strong> ${data.national}ÂàÜ
                                </div>
                                <div>
                                    <strong>Êä•Âêç‰∫∫Êï∞Ôºö</strong> ${data.applicants}‰∫∫
                                </div>
                                <div>
                                    <strong>ÂΩïÂèñ‰∫∫Êï∞Ôºö</strong> ${data.admitted}‰∫∫
                                </div>
                                <div>
                                    <strong>ÂΩïÂèñÁéáÔºö</strong> ${((data.admitted / data.applicants) * 100).toFixed(1)}%
                                </div>
                                <div>
                                    <strong>ÂàÜÊï∞Á∫øÂ∑ÆÔºö</strong> ${data.reexam - data.national}ÂàÜ
                                </div>
                            </div>
                        </div>
                    `;
                }
            }
            
            detailsContainer.innerHTML = details;
        }
        
        // Ê∏ÖÈô§ÊâÄÊúâÊï∞ÊçÆ
        function clearAllData() {
            if (!confirm('Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÊú¨Âú∞Êï∞ÊçÆÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§çÔºÅ')) return;
            
            localStorage.clear();
            showNotification('ÊâÄÊúâÊï∞ÊçÆÂ∑≤Ê∏ÖÈô§', 'success');
        }
        
        // ÂØºÂá∫Êï∞ÊçÆ
        function exportData() {
            const data = {
                currentUser: currentUser,
                scoreData: scoreData,
                timestamp: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `fluid_dynamics_data_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('Êï∞ÊçÆÂØºÂá∫ÊàêÂäü', 'success');
        }
        
        // ÂØºÂÖ•Êï∞ÊçÆ
        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const data = JSON.parse(e.target.result);
                            // ËøôÈáåÂèØ‰ª•Ê∑ªÂä†Êï∞ÊçÆÂØºÂÖ•ÈÄªËæë
                            showNotification('Êï∞ÊçÆÂØºÂÖ•ÊàêÂäü', 'success');
                        } catch (error) {
                            showNotification('Êï∞ÊçÆÂØºÂÖ•Â§±Ë¥•ÔºöÊñá‰ª∂Ê†ºÂºèÈîôËØØ', 'error');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }
        
        // È°µÈù¢ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('È°µÈù¢ÂàùÂßãÂåñÂºÄÂßã');
            
            // Ê£ÄÊü•ÊòØÂê¶Â∑≤ÁôªÂΩï
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                try {
                    currentUser = JSON.parse(savedUser);
                    console.log('ÊâæÂà∞Â∑≤ÁôªÂΩïÁî®Êà∑:', currentUser);
                    
                    document.getElementById('loginContainer').style.display = 'none';
                    document.getElementById('loggedInContent').classList.add('show');
                    
                    document.getElementById('userName').textContent = currentUser.name;
                    document.getElementById('userAvatar').textContent = currentUser.avatar;
                    
                    // ËÆæÁΩÆÂäüËÉΩÊ®°ÂùóÊòæÁ§∫
                    setupUserModules();
                    
                    // ÂàùÂßãÂåñÁî®Êà∑Â≠¶‰π†Êï∞ÊçÆ
                    initUserLearningData();
                    
                    // Êõ¥Êñ∞Áî®Êà∑ËµÑÊñôÊòæÁ§∫
                    updateProfileDisplay();
                    
                    // ÂàùÂßãÂåñ‰∏ªÈ°µ
                    initHomePage();
                    
                    // ÂàùÂßãÂåñÂàÜÊï∞ÂõæË°®
                    setTimeout(() => {
                        initScoreChart();
                    }, 100);
                    
                    console.log('Áî®Êà∑ÁôªÂΩïÁä∂ÊÄÅÊÅ¢Â§çÂÆåÊàê');
                } catch (error) {
                    console.error('ÊÅ¢Â§çÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅÂ§±Ë¥•:', error);
                    localStorage.removeItem('currentUser');
                }
            } else {
                console.log('Êú™ÊâæÂà∞Â∑≤ÁôªÂΩïÁî®Êà∑');
            }
        });
        
        // Á≥ªÁªüÁä∂ÊÄÅÊ£ÄÊü•ÂäüËÉΩ
        function checkSystemStatus() {
            const statusContainer = document.getElementById('systemStatus');
            if (!statusContainer) return;
            
            const modules = [
                { name: 'È¢òÂ∫ìÊ®°Âùó', url: 'modules/question-bank.html', status: 'checking' },
                { name: 'ËßÜÈ¢ëÊ®°Âùó', url: 'modules/video-module.html', status: 'checking' },
                { name: 'AIÂä©Êâã', url: 'modules/ai-assistant-module.html', status: 'checking' },
                { name: 'Â§ç‰π†ËÆ°Âàí', url: 'modules/review-module.html', status: 'checking' },
                { name: '‰Ωú‰∏öÊèê‰∫§', url: 'modules/homework-module.html', status: 'checking' },
                { name: 'Â≠¶‰π†ËøõÂ∫¶', url: 'modules/progress-module.html', status: 'checking' },
                { name: 'Â≠¶‰π†Á¨îËÆ∞', url: 'modules/notes-module.html', status: 'checking' },
                { name: 'ËÆ®ËÆ∫Âå∫', url: 'modules/discussion-module.html', status: 'checking' },
                { name: 'Êï∞ÊçÆÂàÜÊûê', url: 'modules/analytics-module.html', status: 'checking' },
                { name: 'Êñá‰ª∂‰∏ä‰º†', url: 'modules/upload-module.html', status: 'checking' },
                { name: '‰ªøÁúüÂÆûÈ™å', url: 'modules/simulation-module.html', status: 'checking' },
                { name: 'ÊàêÁª©ÁÆ°ÁêÜ', url: 'modules/grade-module.html', status: 'checking' }
            ];
            
            let checkedCount = 0;
            const totalModules = modules.length;
            
            statusContainer.innerHTML = `
                <div class="status-header">
                    <h3><i class="fas fa-cogs"></i> Á≥ªÁªüÁä∂ÊÄÅÊ£ÄÊü•</h3>
                    <div class="status-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <span class="progress-text">0/${totalModules}</span>
                    </div>
                </div>
                <div class="status-list">
                    ${modules.map(module => `
                        <div class="status-item" data-module="${module.name}">
                            <div class="status-icon">
                                <i class="fas fa-spinner fa-spin"></i>
                            </div>
                            <div class="status-info">
                                <div class="status-name">${module.name}</div>
                                <div class="status-detail">Ê£ÄÊü•‰∏≠...</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            // ÈÄê‰∏™Ê£ÄÊü•Ê®°Âùó
            modules.forEach((module, index) => {
                setTimeout(() => {
                    checkModuleStatus(module, index, totalModules, statusContainer);
                }, index * 200);
            });
        }
        
        // Ê£ÄÊü•Âçï‰∏™Ê®°ÂùóÁä∂ÊÄÅ
        function checkModuleStatus(module, index, total, container) {
            fetch(module.url, { method: 'HEAD' })
                .then(response => {
                    module.status = response.ok ? 'available' : 'error';
                    updateModuleStatus(module, index, total, container);
                })
                .catch(error => {
                    module.status = 'error';
                    updateModuleStatus(module, index, total, container);
                });
        }
        
        // Êõ¥Êñ∞Ê®°ÂùóÁä∂ÊÄÅÊòæÁ§∫
        function updateModuleStatus(module, index, total, container) {
            const statusItem = container.querySelector(`[data-module="${module.name}"]`);
            if (!statusItem) return;
            
            const icon = statusItem.querySelector('.status-icon i');
            const detail = statusItem.querySelector('.status-detail');
            
            switch (module.status) {
                case 'available':
                    icon.className = 'fas fa-check-circle';
                    icon.style.color = '#27ae60';
                    detail.textContent = 'ÂèØÁî®';
                    statusItem.style.background = 'rgba(39, 174, 96, 0.1)';
                    break;
                case 'error':
                    icon.className = 'fas fa-times-circle';
                    icon.style.color = '#e74c3c';
                    detail.textContent = '‰∏çÂèØÁî®';
                    statusItem.style.background = 'rgba(231, 76, 60, 0.1)';
                    break;
                default:
                    icon.className = 'fas fa-question-circle';
                    icon.style.color = '#f39c12';
                    detail.textContent = 'Êú™Áü•';
                    statusItem.style.background = 'rgba(243, 156, 18, 0.1)';
            }
            
            // Êõ¥Êñ∞ËøõÂ∫¶
            const progressFill = container.querySelector('.progress-fill');
            const progressText = container.querySelector('.progress-text');
            const checkedCount = index + 1;
            const percentage = (checkedCount / total) * 100;
            
            progressFill.style.width = `${percentage}%`;
            progressText.textContent = `${checkedCount}/${total}`;
            
            if (checkedCount === total) {
                setTimeout(() => {
                    showNotification('Á≥ªÁªüÁä∂ÊÄÅÊ£ÄÊü•ÂÆåÊàê', 'success');
                }, 500);
            }
        }
        
        // Êï∞ÊçÆÂÆåÊï¥ÊÄßÊ£ÄÊü•
        function checkDataIntegrity() {
            const checks = [
                { name: 'Áî®Êà∑Êï∞ÊçÆ', key: 'currentUser', status: 'checking' },
                { name: 'Â≠¶‰π†Êï∞ÊçÆ', key: 'userLearningData', status: 'checking' },
                { name: 'È¢òÂ∫ìÊï∞ÊçÆ', key: 'questionsData', status: 'checking' },
                { name: 'ËßÜÈ¢ëÊï∞ÊçÆ', key: 'videoData', status: 'checking' },
                { name: 'ÊàêÁª©Êï∞ÊçÆ', key: 'scoreData', status: 'checking' }
            ];
            
            const integrityContainer = document.getElementById('dataIntegrity');
            if (!integrityContainer) return;
            
            integrityContainer.innerHTML = `
                <div class="integrity-header">
                    <h3><i class="fas fa-database"></i> Êï∞ÊçÆÂÆåÊï¥ÊÄßÊ£ÄÊü•</h3>
                </div>
                <div class="integrity-list">
                    ${checks.map(check => `
                        <div class="integrity-item" data-check="${check.name}">
                            <div class="integrity-icon">
                                <i class="fas fa-spinner fa-spin"></i>
                            </div>
                            <div class="integrity-info">
                                <div class="integrity-name">${check.name}</div>
                                <div class="integrity-detail">Ê£ÄÊü•‰∏≠...</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            checks.forEach((check, index) => {
                setTimeout(() => {
                    const data = localStorage.getItem(check.key);
                    check.status = data ? 'valid' : 'missing';
                    updateIntegrityStatus(check, index, integrityContainer);
                }, index * 300);
            });
        }
        
        // Êõ¥Êñ∞Êï∞ÊçÆÂÆåÊï¥ÊÄßÁä∂ÊÄÅ
        function updateIntegrityStatus(check, index, container) {
            const item = container.querySelector(`[data-check="${check.name}"]`);
            if (!item) return;
            
            const icon = item.querySelector('.integrity-icon i');
            const detail = item.querySelector('.integrity-detail');
            
            switch (check.status) {
                case 'valid':
                    icon.className = 'fas fa-check-circle';
                    icon.style.color = '#27ae60';
                    detail.textContent = 'Êï∞ÊçÆÂÆåÊï¥';
                    item.style.background = 'rgba(39, 174, 96, 0.1)';
                    break;
                case 'missing':
                    icon.className = 'fas fa-exclamation-triangle';
                    icon.style.color = '#f39c12';
                    detail.textContent = 'Êï∞ÊçÆÁº∫Â§±';
                    item.style.background = 'rgba(243, 156, 18, 0.1)';
                    break;
                default:
                    icon.className = 'fas fa-question-circle';
                    icon.style.color = '#95a5a6';
                    detail.textContent = 'Êú™Áü•Áä∂ÊÄÅ';
                    item.style.background = 'rgba(149, 165, 166, 0.1)';
            }
        }
        
        // Â§áÁî®CDNÂä†ËΩΩÊú∫Âà∂
        function loadFallbackFA() {
            console.log('Font Awesome CDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂ∞ùËØïÂ§áÁî®CDN...');
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css';
            document.head.appendChild(link);
        }
        
        function loadFallbackChart() {
            console.log('Chart.js CDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂ∞ùËØïÂ§áÁî®CDN...');
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
            script.crossOrigin = 'anonymous';
            document.head.appendChild(script);
        }
        
        function loadFallbackQuill() {
            console.log('Quill.js CDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂ∞ùËØïÂ§áÁî®CDN...');
            const script = document.createElement('script');
            script.src = 'https://cdn.quilljs.com/1.3.7/quill.min.js';
            document.head.appendChild(script);
        }
        
        function loadFallbackQuillCSS() {
            console.log('Quill.js CSS CDNÂä†ËΩΩÂ§±Ë¥•ÔºåÂ∞ùËØïÂ§áÁî®CDN...');
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://cdn.quilljs.com/1.3.7/quill.snow.css';
            document.head.appendChild(link);
        }
        
        // Ê£ÄÊµãÁΩëÁªúËøûÊé•Áä∂ÊÄÅ
        function checkNetworkStatus() {
            if (!navigator.onLine) {
                showNotification('ÁΩëÁªúËøûÊé•Â∑≤Êñ≠ÂºÄÔºåÈÉ®ÂàÜÂäüËÉΩÂèØËÉΩÂèóÈôê', 'warning');
            }
        }
        
        // ÁõëÂê¨ÁΩëÁªúÁä∂ÊÄÅÂèòÂåñ
        window.addEventListener('online', function() {
            showNotification('ÁΩëÁªúËøûÊé•Â∑≤ÊÅ¢Â§ç', 'success');
        });
        
        window.addEventListener('offline', function() {
            showNotification('ÁΩëÁªúËøûÊé•Â∑≤Êñ≠ÂºÄ', 'warning');
        });
        
        // È°µÈù¢Âä†ËΩΩÊó∂Ê£ÄÊü•ÁΩëÁªúÁä∂ÊÄÅ
        document.addEventListener('DOMContentLoaded', function() {
            checkNetworkStatus();
        });
        
        // È°µÈù¢ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            // ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩÊï∞ÊçÆ
            const savedData = localStorage.getItem('gradesData');
            if (savedData) {
                gradesData = JSON.parse(savedData);
            }
            
            // ËÆæÁΩÆÈªòËÆ§Êó•Êúü‰∏∫‰ªäÂ§©
            document.getElementById('examDate').value = new Date().toISOString().split('T')[0];
            
            updateStats();
            renderGradeList();
            generateDetailedAnalysis();
            showNotification('üìä ÊàêÁª©ÁÆ°ÁêÜÊ®°ÂùóÂ∑≤Âä†ËΩΩ', 'success');
            
            // ÁßªÂä®Á´Ø‰ºòÂåñ
            setupMobileOptimizations();
        });
        
        // ÁßªÂä®Á´Ø‰ºòÂåñËÆæÁΩÆ
        function setupMobileOptimizations() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
            
            if (isMobile) {
                document.body.classList.add('mobile-device');
                
                // Ê∑ªÂä†Ëß¶Êë∏‰∫ã‰ª∂ÁõëÂê¨
                setupTouchEvents();
                
                if (isSafari) {
                    document.body.classList.add('safari-browser');
                    // Èò≤Ê≠¢SafariÁº©Êîæ
                    document.addEventListener('gesturestart', function(e) {
                        e.preventDefault();
                    });
                }
            }
        }
        
        // ËÆæÁΩÆËß¶Êë∏‰∫ã‰ª∂
        function setupTouchEvents() {
            // ‰∏∫ÊâÄÊúâÂèØÁÇπÂáªÂÖÉÁ¥†Ê∑ªÂä†Ëß¶Êë∏‰∫ã‰ª∂
            const clickableElements = document.querySelectorAll('[onclick], .module-card, .quick-card, .resource-btn, .nav-link');
            
            clickableElements.forEach(element => {
                // Ê∑ªÂä†Ëß¶Êë∏ÂèçÈ¶à
                element.addEventListener('touchstart', function(e) {
                    this.style.transform = 'scale(0.95)';
                    this.style.transition = 'transform 0.1s ease';
                });
                
                element.addEventListener('touchend', function(e) {
                    this.style.transform = '';
                    this.style.transition = '';
                });
                
                element.addEventListener('touchcancel', function(e) {
                    this.style.transform = '';
                    this.style.transition = '';
                });
                
                // Èò≤Ê≠¢ÂèåÂáªÁº©Êîæ
                element.addEventListener('touchend', function(e) {
                    e.preventDefault();
                }, { passive: false });
            });
            
            // ‰ºòÂåñÊªöÂä®
            document.addEventListener('touchmove', function(e) {
                // ÂÖÅËÆ∏Ê≠£Â∏∏ÊªöÂä®
            }, { passive: true });
            
            // Èò≤Ê≠¢È°µÈù¢Áº©Êîæ
            document.addEventListener('gesturestart', function(e) {
                e.preventDefault();
            });
            
            document.addEventListener('gesturechange', function(e) {
                e.preventDefault();
            });
            
            document.addEventListener('gestureend', function(e) {
                e.preventDefault();
            });
        }
    </script>
</body>
</html> 
</html> 