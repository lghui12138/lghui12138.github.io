<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIåŠ©æ‰‹æµ‹è¯•</title>
</head>
<body>
    <div id="app">
        <h1>AIåŠ©æ‰‹è¯­æ³•æµ‹è¯•</h1>
        <div>{{ message }}</div>
        <button @click="testFunction">æµ‹è¯•å‡½æ•°</button>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const { createApp } = Vue;
        
        createApp({
            data() {
                return {
                    message: 'å‡†å¤‡æµ‹è¯•...'
                }
            },
            methods: {
                testFunction() {
                    console.log('ğŸ§ª å¼€å§‹æµ‹è¯•processLatexSymbolså‡½æ•°');
                    
                    // æµ‹è¯•LaTeXç¬¦å·å¤„ç†å‡½æ•°
                    const processLatexSymbols = (formula) => {
                        return formula
                            .replace(/\\rho/g, 'Ï')
                            .replace(/\\mu/g, 'Î¼')
                            .replace(/\\nabla/g, 'âˆ‡')
                            .replace(/\\partial/g, 'âˆ‚')
                            .replace(/\\vec\{([^}]+)\}/g, '<span class="vector-perfect">$1</span>');
                    };
                    
                    const testFormula = '\\rho \\nabla \\vec{v}';
                    const result = processLatexSymbols(testFormula);
                    
                    console.log('âœ… æµ‹è¯•æˆåŠŸ:', result);
                    this.message = `æµ‹è¯•æˆåŠŸ: ${result}`;
                },
                
                // æµ‹è¯•æ¨¡å‹é€‰æ‹©é€»è¾‘
                selectOptimalModel(question) {
                    const lowerQuestion = question.toLowerCase();
                    console.log('ğŸ§  æ™ºèƒ½æ¨¡å‹é€‰æ‹© - åˆ†æé—®é¢˜:', question);

                    const derivationKeywords = ['æ¨å¯¼', 'è¯æ˜', 'æ±‚è§£'];
                    const hasDerivation = derivationKeywords.some(keyword =>
                        lowerQuestion.includes(keyword)
                    );

                    if (hasDerivation) {
                        console.log('ğŸ¯ é€‰æ‹©deepseek-r1æ¨¡å‹è¿›è¡Œæ•°å­¦æ¨å¯¼');
                        return {
                            preferredModel: 'deepseek-r1',
                            systemPrompt: 'ä½¿ç”¨LaTeXè¯­æ³•è¡¨ç¤ºæ•°å­¦å…¬å¼'
                        };
                    } else {
                        console.log('ğŸ¯ é€‰æ‹©é€šç”¨æ¨¡å‹');
                        return {
                            preferredModel: 'auto'
                        };
                    }
                }
            },
            mounted() {
                console.log('ğŸš€ Vueåº”ç”¨å·²æŒ‚è½½');
                this.message = 'Vueåº”ç”¨åŠ è½½æˆåŠŸï¼';
                
                // æµ‹è¯•æ¨¡å‹é€‰æ‹©
                const config = this.selectOptimalModel('è¯·æ¨å¯¼ä¼¯åŠªåˆ©æ–¹ç¨‹');
                console.log('ğŸ“‹ æ¨¡å‹é…ç½®:', config);
            }
        }).mount('#app');
    </script>
</body>
</html>
